import{e as wi,f as Ye,r as Oa,c as ue,h as Si,g as vn,a as Ad}from"./index.3f485fcd.js";import{e as Ei,t as D}from"./tslib.db062970.js";function Md(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Na={},ln={},xi={};Object.defineProperty(xi,"__esModule",{value:!0});xi.walletLogo=void 0;const Id=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};xi.walletLogo=Id;var Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.ScopedLocalStorage=void 0;class Rd{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}Ci.ScopedLocalStorage=Rd;var xr={},Br={};Object.defineProperty(Br,"__esModule",{value:!0});const Td=Ei.exports;function Ac(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Od(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}class Nd extends Td.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")Ac(s,this,r);else{const o=s.length,a=Od(s);for(let c=0;c<o;c+=1)Ac(a[c],this,r)}return!0}}Br.default=Nd;var ki={},Pt={},_l=fn;fn.default=fn;fn.stable=Sl;fn.stableStringify=Sl;var si="[...]",ml="[Circular]",er=[],Kt=[];function wl(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function fn(t,e,r,n){typeof n>"u"&&(n=wl()),ca(t,"",0,[],void 0,0,n);var i;try{Kt.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,El(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;er.length!==0;){var s=er.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function mr(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),er.push([n,r,e,i])):Kt.push([e,r,t]):(n[r]=t,er.push([n,r,e]))}function ca(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){mr(ml,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){mr(si,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){mr(si,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)ca(t[a],a,a,n,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var u=c[a];ca(t[u],u,a,n,t,s,o)}}n.pop()}}function Pd(t,e){return t<e?-1:t>e?1:0}function Sl(t,e,r,n){typeof n>"u"&&(n=wl());var i=ua(t,"",0,[],void 0,0,n)||t,s;try{Kt.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,El(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;er.length!==0;){var o=er.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function ua(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){mr(ml,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){mr(si,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){mr(si,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)ua(t[a],a,a,n,t,s,o);else{var c={},u=Object.keys(t).sort(Pd);for(a=0;a<u.length;a++){var l=u[a];ua(t[l],l,a,n,t,s,o),c[l]=t[l]}if(typeof i<"u")er.push([i,e,t]),i[e]=c;else return c}n.pop()}}function El(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(Kt.length>0)for(var n=0;n<Kt.length;n++){var i=Kt[n];if(i[1]===e&&i[0]===r){r=i[2],Kt.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(Pt,"__esModule",{value:!0});Pt.EthereumProviderError=Pt.EthereumRpcError=void 0;const Ld=_l;class xl extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Ld.default(this.serialize(),Bd,2)}}Pt.EthereumRpcError=xl;class Dd extends xl{constructor(e,r,n){if(!jd(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Pt.EthereumProviderError=Dd;function jd(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function Bd(t,e){if(e!=="[Circular]")return e}var Pa={},Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.errorValues=Lt.errorCodes=void 0;Lt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Lt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Lt,r=Pt,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(f,b=i){if(Number.isInteger(f)){const m=f.toString();if(g(e.errorValues,m))return e.errorValues[m].message;if(u(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return b}t.getMessageFromCode=o;function a(f){if(!Number.isInteger(f))return!1;const b=f.toString();return!!(e.errorValues[b]||u(f))}t.isValidCode=a;function c(f,{fallbackError:b=s,shouldIncludeStack:m=!1}={}){var A,R;if(!b||!Number.isInteger(b.code)||typeof b.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof r.EthereumRpcError)return f.serialize();const p={};if(f&&typeof f=="object"&&!Array.isArray(f)&&g(f,"code")&&a(f.code)){const E=f;p.code=E.code,E.message&&typeof E.message=="string"?(p.message=E.message,g(E,"data")&&(p.data=E.data)):(p.message=o(p.code),p.data={originalError:l(f)})}else{p.code=b.code;const E=(A=f)===null||A===void 0?void 0:A.message;p.message=E&&typeof E=="string"?E:b.message,p.data={originalError:l(f)}}const w=(R=f)===null||R===void 0?void 0:R.stack;return m&&f&&w&&typeof w=="string"&&(p.stack=w),p}t.serializeError=c;function u(f){return f>=-32099&&f<=-32e3}function l(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function g(f,b){return Object.prototype.hasOwnProperty.call(f,b)}})(Pa);var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.ethErrors=void 0;const La=Pt,Cl=Pa,Te=Lt;Ai.ethErrors={rpc:{parse:t=>Ve(Te.errorCodes.rpc.parse,t),invalidRequest:t=>Ve(Te.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Ve(Te.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Ve(Te.errorCodes.rpc.methodNotFound,t),internal:t=>Ve(Te.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ve(e,t)},invalidInput:t=>Ve(Te.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Ve(Te.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Ve(Te.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Ve(Te.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Ve(Te.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Ve(Te.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Kr(Te.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Kr(Te.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Kr(Te.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Kr(Te.errorCodes.provider.disconnected,t),chainDisconnected:t=>Kr(Te.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new La.EthereumProviderError(e,r,n)}}};function Ve(t,e){const[r,n]=kl(e);return new La.EthereumRpcError(t,r||Cl.getMessageFromCode(t),n)}function Kr(t,e){const[r,n]=kl(e);return new La.EthereumProviderError(t,r||Cl.getMessageFromCode(t),n)}function kl(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Pt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Pa;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Ai;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Lt;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(ki);var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.EVENTS=void 0;Fr.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var $r={},Al={exports:{}},bt={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=wi,n=r.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,c){return n(o,a,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(bt,bt.exports);var Ml=bt.exports.Buffer;function Mi(t,e){this._block=Ml.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Mi.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Ml.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,c=Math.min(i-o,n-a),u=0;u<c;u++)r[a+u]=t[o+u];s+=c,o+=c,s%n===0&&this._update(r)}return this._len+=i,this};Mi.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};Mi.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Wr=Mi,Fd=Ye.exports,Il=Wr,$d=bt.exports.Buffer,Wd=[1518500249,1859775393,-1894007588,-899497514],Ud=new Array(80);function _n(){this.init(),this._w=Ud,Il.call(this,64,56)}Fd(_n,Il);_n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Hd(t){return t<<5|t>>>27}function Vd(t){return t<<30|t>>>2}function zd(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}_n.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var c=0;c<80;++c){var u=~~(c/20),l=Hd(r)+zd(u,n,i,s)+o+e[c]+Wd[u]|0;o=s,s=i,i=Vd(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};_n.prototype._hash=function(){var t=$d.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var qd=_n,Gd=Ye.exports,Rl=Wr,Qd=bt.exports.Buffer,Zd=[1518500249,1859775393,-1894007588,-899497514],Kd=new Array(80);function mn(){this.init(),this._w=Kd,Rl.call(this,64,56)}Gd(mn,Rl);mn.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Yd(t){return t<<1|t>>>31}function Jd(t){return t<<5|t>>>27}function Xd(t){return t<<30|t>>>2}function ep(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}mn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=Yd(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var c=0;c<80;++c){var u=~~(c/20),l=Jd(r)+ep(u,n,i,s)+o+e[c]+Zd[u]|0;o=s,s=i,i=Xd(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};mn.prototype._hash=function(){var t=Qd.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var tp=mn,rp=Ye.exports,Tl=Wr,np=bt.exports.Buffer,ip=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],sp=new Array(64);function wn(){this.init(),this._w=sp,Tl.call(this,64,56)}rp(wn,Tl);wn.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function op(t,e,r){return r^t&(e^r)}function ap(t,e,r){return t&e|r&(t|e)}function cp(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function up(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function lp(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function fp(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}wn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,c=this._g|0,u=this._h|0,l=0;l<16;++l)e[l]=t.readInt32BE(l*4);for(;l<64;++l)e[l]=fp(e[l-2])+e[l-7]+lp(e[l-15])+e[l-16]|0;for(var g=0;g<64;++g){var f=u+up(o)+op(o,a,c)+ip[g]+e[g]|0,b=cp(r)+ap(r,n,i)|0;u=c,c=a,a=o,o=s+f|0,s=i,i=n,n=r,r=f+b|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=u+this._h|0};wn.prototype._hash=function(){var t=np.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var Ol=wn,hp=Ye.exports,dp=Ol,pp=Wr,bp=bt.exports.Buffer,yp=new Array(64);function Ii(){this.init(),this._w=yp,pp.call(this,64,56)}hp(Ii,dp);Ii.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Ii.prototype._hash=function(){var t=bp.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var gp=Ii,vp=Ye.exports,Nl=Wr,_p=bt.exports.Buffer,Mc=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],mp=new Array(160);function Sn(){this.init(),this._w=mp,Nl.call(this,128,112)}vp(Sn,Nl);Sn.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ic(t,e,r){return r^t&(e^r)}function Rc(t,e,r){return t&e|r&(t|e)}function Tc(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Oc(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function wp(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Sp(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Ep(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function xp(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function xe(t,e){return t>>>0<e>>>0?1:0}Sn.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,c=this._gh|0,u=this._hh|0,l=this._al|0,g=this._bl|0,f=this._cl|0,b=this._dl|0,m=this._el|0,A=this._fl|0,R=this._gl|0,p=this._hl|0,w=0;w<32;w+=2)e[w]=t.readInt32BE(w*4),e[w+1]=t.readInt32BE(w*4+4);for(;w<160;w+=2){var E=e[w-30],T=e[w-15*2+1],B=wp(E,T),z=Sp(T,E);E=e[w-2*2],T=e[w-2*2+1];var q=Ep(E,T),U=xp(T,E),W=e[w-7*2],oe=e[w-7*2+1],ie=e[w-16*2],K=e[w-16*2+1],J=z+oe|0,H=B+W+xe(J,z)|0;J=J+U|0,H=H+q+xe(J,U)|0,J=J+K|0,H=H+ie+xe(J,K)|0,e[w]=H,e[w+1]=J}for(var se=0;se<160;se+=2){H=e[se],J=e[se+1];var de=Rc(r,n,i),x=Rc(l,g,f),C=Tc(r,l),M=Tc(l,r),P=Oc(o,m),j=Oc(m,o),v=Mc[se],S=Mc[se+1],I=Ic(o,a,c),V=Ic(m,A,R),y=p+j|0,_=u+P+xe(y,p)|0;y=y+V|0,_=_+I+xe(y,V)|0,y=y+S|0,_=_+v+xe(y,S)|0,y=y+J|0,_=_+H+xe(y,J)|0;var k=M+x|0,L=C+de+xe(k,M)|0;u=c,p=R,c=a,R=A,a=o,A=m,m=b+y|0,o=s+_+xe(m,b)|0,s=i,b=f,i=n,f=g,n=r,g=l,l=y+k|0,r=_+L+xe(l,y)|0}this._al=this._al+l|0,this._bl=this._bl+g|0,this._cl=this._cl+f|0,this._dl=this._dl+b|0,this._el=this._el+m|0,this._fl=this._fl+A|0,this._gl=this._gl+R|0,this._hl=this._hl+p|0,this._ah=this._ah+r+xe(this._al,l)|0,this._bh=this._bh+n+xe(this._bl,g)|0,this._ch=this._ch+i+xe(this._cl,f)|0,this._dh=this._dh+s+xe(this._dl,b)|0,this._eh=this._eh+o+xe(this._el,m)|0,this._fh=this._fh+a+xe(this._fl,A)|0,this._gh=this._gh+c+xe(this._gl,R)|0,this._hh=this._hh+u+xe(this._hl,p)|0};Sn.prototype._hash=function(){var t=_p.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var Pl=Sn,Cp=Ye.exports,kp=Pl,Ap=Wr,Mp=bt.exports.Buffer,Ip=new Array(160);function Ri(){this.init(),this._w=Ip,Ap.call(this,128,112)}Cp(Ri,kp);Ri.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Ri.prototype._hash=function(){var t=Mp.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var Rp=Ri,ir=Al.exports=function(e){e=e.toLowerCase();var r=ir[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};ir.sha=qd;ir.sha1=tp;ir.sha224=gp;ir.sha256=Ol;ir.sha384=Rp;ir.sha512=Pl;var G={},Ll=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},Nc=typeof Symbol<"u"&&Symbol,Tp=Ll,Op=function(){return typeof Nc!="function"||typeof Symbol!="function"||typeof Nc("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Tp()},Np="Function.prototype.bind called on incompatible ",_o=Array.prototype.slice,Pp=Object.prototype.toString,Lp="[object Function]",Dp=function(e){var r=this;if(typeof r!="function"||Pp.call(r)!==Lp)throw new TypeError(Np+r);for(var n=_o.call(arguments,1),i,s=function(){if(this instanceof i){var l=r.apply(this,n.concat(_o.call(arguments)));return Object(l)===l?l:this}else return r.apply(e,n.concat(_o.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],c=0;c<o;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},jp=Dp,Da=Function.prototype.bind||jp,Bp=Da,Fp=Bp.call(Function.call,Object.prototype.hasOwnProperty),ae,Cr=SyntaxError,Dl=Function,wr=TypeError,mo=function(t){try{return Dl('"use strict"; return ('+t+").constructor;")()}catch{}},Jt=Object.getOwnPropertyDescriptor;if(Jt)try{Jt({},"")}catch{Jt=null}var wo=function(){throw new wr},$p=Jt?function(){try{return arguments.callee,wo}catch{try{return Jt(arguments,"callee").get}catch{return wo}}}():wo,fr=Op(),lt=Object.getPrototypeOf||function(t){return t.__proto__},br={},Wp=typeof Uint8Array>"u"?ae:lt(Uint8Array),Xt={"%AggregateError%":typeof AggregateError>"u"?ae:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ae:ArrayBuffer,"%ArrayIteratorPrototype%":fr?lt([][Symbol.iterator]()):ae,"%AsyncFromSyncIteratorPrototype%":ae,"%AsyncFunction%":br,"%AsyncGenerator%":br,"%AsyncGeneratorFunction%":br,"%AsyncIteratorPrototype%":br,"%Atomics%":typeof Atomics>"u"?ae:Atomics,"%BigInt%":typeof BigInt>"u"?ae:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ae:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ae:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ae:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?ae:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ae:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ae:FinalizationRegistry,"%Function%":Dl,"%GeneratorFunction%":br,"%Int8Array%":typeof Int8Array>"u"?ae:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ae:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ae:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":fr?lt(lt([][Symbol.iterator]())):ae,"%JSON%":typeof JSON=="object"?JSON:ae,"%Map%":typeof Map>"u"?ae:Map,"%MapIteratorPrototype%":typeof Map>"u"||!fr?ae:lt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ae:Promise,"%Proxy%":typeof Proxy>"u"?ae:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?ae:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ae:Set,"%SetIteratorPrototype%":typeof Set>"u"||!fr?ae:lt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ae:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":fr?lt(""[Symbol.iterator]()):ae,"%Symbol%":fr?Symbol:ae,"%SyntaxError%":Cr,"%ThrowTypeError%":$p,"%TypedArray%":Wp,"%TypeError%":wr,"%Uint8Array%":typeof Uint8Array>"u"?ae:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ae:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ae:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ae:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?ae:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ae:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ae:WeakSet};try{null.error}catch(t){var Up=lt(lt(t));Xt["%Error.prototype%"]=Up}var Hp=function t(e){var r;if(e==="%AsyncFunction%")r=mo("async function () {}");else if(e==="%GeneratorFunction%")r=mo("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=mo("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=lt(i.prototype))}return Xt[e]=r,r},Pc={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},En=Da,oi=Fp,Vp=En.call(Function.call,Array.prototype.concat),zp=En.call(Function.apply,Array.prototype.splice),Lc=En.call(Function.call,String.prototype.replace),ai=En.call(Function.call,String.prototype.slice),qp=En.call(Function.call,RegExp.prototype.exec),Gp=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Qp=/\\(\\)?/g,Zp=function(e){var r=ai(e,0,1),n=ai(e,-1);if(r==="%"&&n!=="%")throw new Cr("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Cr("invalid intrinsic syntax, expected opening `%`");var i=[];return Lc(e,Gp,function(s,o,a,c){i[i.length]=a?Lc(c,Qp,"$1"):o||s}),i},Kp=function(e,r){var n=e,i;if(oi(Pc,n)&&(i=Pc[n],n="%"+i[0]+"%"),oi(Xt,n)){var s=Xt[n];if(s===br&&(s=Hp(n)),typeof s>"u"&&!r)throw new wr("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Cr("intrinsic "+e+" does not exist!")},Ti=function(e,r){if(typeof e!="string"||e.length===0)throw new wr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new wr('"allowMissing" argument must be a boolean');if(qp(/^%?[^%]*%?$/,e)===null)throw new Cr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Zp(e),i=n.length>0?n[0]:"",s=Kp("%"+i+"%",r),o=s.name,a=s.value,c=!1,u=s.alias;u&&(i=u[0],zp(n,Vp([0,1],u)));for(var l=1,g=!0;l<n.length;l+=1){var f=n[l],b=ai(f,0,1),m=ai(f,-1);if((b==='"'||b==="'"||b==="`"||m==='"'||m==="'"||m==="`")&&b!==m)throw new Cr("property names with quotes must have matching quotes");if((f==="constructor"||!g)&&(c=!0),i+="."+f,o="%"+i+"%",oi(Xt,o))a=Xt[o];else if(a!=null){if(!(f in a)){if(!r)throw new wr("base intrinsic for "+e+" exists, but the property is not available.");return}if(Jt&&l+1>=n.length){var A=Jt(a,f);g=!!A,g&&"get"in A&&!("originalValue"in A.get)?a=A.get:a=a[f]}else g=oi(a,f),a=a[f];g&&!c&&(Xt[o]=a)}}return a},jl={exports:{}};(function(t){var e=Da,r=Ti,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(g){var f=s(e,i,arguments);if(o&&a){var b=o(f,"length");b.configurable&&a(f,"length",{value:1+c(0,g.length-(arguments.length-1))})}return f};var u=function(){return s(e,n,arguments)};a?a(t.exports,"apply",{value:u}):t.exports.apply=u})(jl);var Bl=Ti,Fl=jl.exports,Yp=Fl(Bl("String.prototype.indexOf")),Oi=function(e,r){var n=Bl(e,!!r);return typeof n=="function"&&Yp(e,".prototype.")>-1?Fl(n):n},ja=typeof Map=="function"&&Map.prototype,So=Object.getOwnPropertyDescriptor&&ja?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ci=ja&&So&&typeof So.get=="function"?So.get:null,Dc=ja&&Map.prototype.forEach,Ba=typeof Set=="function"&&Set.prototype,Eo=Object.getOwnPropertyDescriptor&&Ba?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ui=Ba&&Eo&&typeof Eo.get=="function"?Eo.get:null,jc=Ba&&Set.prototype.forEach,Jp=typeof WeakMap=="function"&&WeakMap.prototype,rn=Jp?WeakMap.prototype.has:null,Xp=typeof WeakSet=="function"&&WeakSet.prototype,nn=Xp?WeakSet.prototype.has:null,e0=typeof WeakRef=="function"&&WeakRef.prototype,Bc=e0?WeakRef.prototype.deref:null,t0=Boolean.prototype.valueOf,r0=Object.prototype.toString,n0=Function.prototype.toString,i0=String.prototype.match,Fa=String.prototype.slice,Ot=String.prototype.replace,s0=String.prototype.toUpperCase,Fc=String.prototype.toLowerCase,$l=RegExp.prototype.test,$c=Array.prototype.concat,ft=Array.prototype.join,o0=Array.prototype.slice,Wc=Math.floor,la=typeof BigInt=="function"?BigInt.prototype.valueOf:null,xo=Object.getOwnPropertySymbols,fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,kr=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Le=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===kr?"object":"symbol")?Symbol.toStringTag:null,Wl=Object.prototype.propertyIsEnumerable,Uc=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Hc(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||$l.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Wc(-t):Wc(t);if(n!==t){var i=String(n),s=Fa.call(e,i.length+1);return Ot.call(i,r,"$&_")+"."+Ot.call(Ot.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ot.call(e,r,"$&_")}var ha=Oa,Vc=ha.custom,zc=Hl(Vc)?Vc:null,a0=function t(e,r,n,i){var s=r||{};if(It(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(It(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=It(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(It(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(It(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return zl(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?Hc(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return a?Hc(e,u):u}var l=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=l&&l>0&&typeof e=="object")return da(e)?"[Array]":"[Object]";var g=C0(s,n);if(typeof i>"u")i=[];else if(Vl(i,e)>=0)return"[Circular]";function f(J,H,se){if(H&&(i=o0.call(i),i.push(H)),se){var de={depth:s.depth};return It(s,"quoteStyle")&&(de.quoteStyle=s.quoteStyle),t(J,de,n+1,i)}return t(J,s,n+1,i)}if(typeof e=="function"&&!qc(e)){var b=y0(e),m=Fn(e,f);return"[Function"+(b?": "+b:" (anonymous)")+"]"+(m.length>0?" { "+ft.call(m,", ")+" }":"")}if(Hl(e)){var A=kr?Ot.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):fa.call(e);return typeof e=="object"&&!kr?Yr(A):A}if(S0(e)){for(var R="<"+Fc.call(String(e.nodeName)),p=e.attributes||[],w=0;w<p.length;w++)R+=" "+p[w].name+"="+Ul(c0(p[w].value),"double",s);return R+=">",e.childNodes&&e.childNodes.length&&(R+="..."),R+="</"+Fc.call(String(e.nodeName))+">",R}if(da(e)){if(e.length===0)return"[]";var E=Fn(e,f);return g&&!x0(E)?"["+pa(E,g)+"]":"[ "+ft.call(E,", ")+" ]"}if(l0(e)){var T=Fn(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!Wl.call(e,"cause")?"{ ["+String(e)+"] "+ft.call($c.call("[cause]: "+f(e.cause),T),", ")+" }":T.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+ft.call(T,", ")+" }"}if(typeof e=="object"&&o){if(zc&&typeof e[zc]=="function"&&ha)return ha(e,{depth:l-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(g0(e)){var B=[];return Dc&&Dc.call(e,function(J,H){B.push(f(H,e,!0)+" => "+f(J,e))}),Gc("Map",ci.call(e),B,g)}if(m0(e)){var z=[];return jc&&jc.call(e,function(J){z.push(f(J,e))}),Gc("Set",ui.call(e),z,g)}if(v0(e))return Co("WeakMap");if(w0(e))return Co("WeakSet");if(_0(e))return Co("WeakRef");if(h0(e))return Yr(f(Number(e)));if(p0(e))return Yr(f(la.call(e)));if(d0(e))return Yr(t0.call(e));if(f0(e))return Yr(f(String(e)));if(!u0(e)&&!qc(e)){var q=Fn(e,f),U=Uc?Uc(e)===Object.prototype:e instanceof Object||e.constructor===Object,W=e instanceof Object?"":"null prototype",oe=!U&&Le&&Object(e)===e&&Le in e?Fa.call(Wt(e),8,-1):W?"Object":"",ie=U||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",K=ie+(oe||W?"["+ft.call($c.call([],oe||[],W||[]),": ")+"] ":"");return q.length===0?K+"{}":g?K+"{"+pa(q,g)+"}":K+"{ "+ft.call(q,", ")+" }"}return String(e)};function Ul(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function c0(t){return Ot.call(String(t),/"/g,"&quot;")}function da(t){return Wt(t)==="[object Array]"&&(!Le||!(typeof t=="object"&&Le in t))}function u0(t){return Wt(t)==="[object Date]"&&(!Le||!(typeof t=="object"&&Le in t))}function qc(t){return Wt(t)==="[object RegExp]"&&(!Le||!(typeof t=="object"&&Le in t))}function l0(t){return Wt(t)==="[object Error]"&&(!Le||!(typeof t=="object"&&Le in t))}function f0(t){return Wt(t)==="[object String]"&&(!Le||!(typeof t=="object"&&Le in t))}function h0(t){return Wt(t)==="[object Number]"&&(!Le||!(typeof t=="object"&&Le in t))}function d0(t){return Wt(t)==="[object Boolean]"&&(!Le||!(typeof t=="object"&&Le in t))}function Hl(t){if(kr)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!fa)return!1;try{return fa.call(t),!0}catch{}return!1}function p0(t){if(!t||typeof t!="object"||!la)return!1;try{return la.call(t),!0}catch{}return!1}var b0=Object.prototype.hasOwnProperty||function(t){return t in this};function It(t,e){return b0.call(t,e)}function Wt(t){return r0.call(t)}function y0(t){if(t.name)return t.name;var e=i0.call(n0.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Vl(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function g0(t){if(!ci||!t||typeof t!="object")return!1;try{ci.call(t);try{ui.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function v0(t){if(!rn||!t||typeof t!="object")return!1;try{rn.call(t,rn);try{nn.call(t,nn)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function _0(t){if(!Bc||!t||typeof t!="object")return!1;try{return Bc.call(t),!0}catch{}return!1}function m0(t){if(!ui||!t||typeof t!="object")return!1;try{ui.call(t);try{ci.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function w0(t){if(!nn||!t||typeof t!="object")return!1;try{nn.call(t,nn);try{rn.call(t,rn)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function S0(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function zl(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return zl(Fa.call(t,0,e.maxStringLength),e)+n}var i=Ot.call(Ot.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,E0);return Ul(i,"single",e)}function E0(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+s0.call(e.toString(16))}function Yr(t){return"Object("+t+")"}function Co(t){return t+" { ? }"}function Gc(t,e,r,n){var i=n?pa(r,n):ft.call(r,", ");return t+" ("+e+") {"+i+"}"}function x0(t){for(var e=0;e<t.length;e++)if(Vl(t[e],`
`)>=0)return!1;return!0}function C0(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=ft.call(Array(t.indent+1)," ");else return null;return{base:r,prev:ft.call(Array(e+1),r)}}function pa(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+ft.call(t,","+r)+`
`+e.prev}function Fn(t,e){var r=da(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=It(t,i)?e(t[i],t):""}var s=typeof xo=="function"?xo(t):[],o;if(kr){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)!It(t,c)||r&&String(Number(c))===c&&c<t.length||kr&&o["$"+c]instanceof Symbol||($l.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t)));if(typeof xo=="function")for(var u=0;u<s.length;u++)Wl.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}var $a=Ti,Ur=Oi,k0=a0,A0=$a("%TypeError%"),$n=$a("%WeakMap%",!0),Wn=$a("%Map%",!0),M0=Ur("WeakMap.prototype.get",!0),I0=Ur("WeakMap.prototype.set",!0),R0=Ur("WeakMap.prototype.has",!0),T0=Ur("Map.prototype.get",!0),O0=Ur("Map.prototype.set",!0),N0=Ur("Map.prototype.has",!0),Wa=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},P0=function(t,e){var r=Wa(t,e);return r&&r.value},L0=function(t,e,r){var n=Wa(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},D0=function(t,e){return!!Wa(t,e)},j0=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new A0("Side channel does not contain "+k0(s))},get:function(s){if($n&&s&&(typeof s=="object"||typeof s=="function")){if(e)return M0(e,s)}else if(Wn){if(r)return T0(r,s)}else if(n)return P0(n,s)},has:function(s){if($n&&s&&(typeof s=="object"||typeof s=="function")){if(e)return R0(e,s)}else if(Wn){if(r)return N0(r,s)}else if(n)return D0(n,s);return!1},set:function(s,o){$n&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new $n),I0(e,s,o)):Wn?(r||(r=new Wn),O0(r,s,o)):(n||(n={key:{},next:null}),L0(n,s,o))}};return i},B0=String.prototype.replace,F0=/%20/g,ko={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ua={default:ko.RFC3986,formatters:{RFC1738:function(t){return B0.call(t,F0,"+")},RFC3986:function(t){return String(t)}},RFC1738:ko.RFC1738,RFC3986:ko.RFC3986},$0=Ua,Ao=Object.prototype.hasOwnProperty,qt=Array.isArray,ot=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),W0=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(qt(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},ql=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},U0=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(qt(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Ao.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return qt(e)&&!qt(r)&&(i=ql(e,n)),qt(e)&&qt(r)?(r.forEach(function(s,o){if(Ao.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return Ao.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},H0=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},V0=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},z0=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var u=o.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===$0.RFC1738&&(u===40||u===41)){a+=o.charAt(c);continue}if(u<128){a=a+ot[u];continue}if(u<2048){a=a+(ot[192|u>>6]+ot[128|u&63]);continue}if(u<55296||u>=57344){a=a+(ot[224|u>>12]+ot[128|u>>6&63]+ot[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|o.charCodeAt(c)&1023),a+=ot[240|u>>18]+ot[128|u>>12&63]+ot[128|u>>6&63]+ot[128|u&63]}return a},q0=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var u=a[c],l=o[u];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(r.push({obj:o,prop:u}),n.push(l))}return W0(r),e},G0=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Q0=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Z0=function(e,r){return[].concat(e,r)},K0=function(e,r){if(qt(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Gl={arrayToObject:ql,assign:H0,combine:Z0,compact:q0,decode:V0,encode:z0,isBuffer:Q0,isRegExp:G0,maybeMap:K0,merge:U0},Ql=j0,ba=Gl,sn=Ua,Y0=Object.prototype.hasOwnProperty,Qc={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},_t=Array.isArray,J0=String.prototype.split,X0=Array.prototype.push,Zl=function(t,e){X0.apply(t,_t(e)?e:[e])},eb=Date.prototype.toISOString,Zc=sn.default,Ie={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ba.encode,encodeValuesOnly:!1,format:Zc,formatter:sn.formatters[Zc],indices:!1,serializeDate:function(e){return eb.call(e)},skipNulls:!1,strictNullHandling:!1},tb=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Mo={},rb=function t(e,r,n,i,s,o,a,c,u,l,g,f,b,m,A,R){for(var p=e,w=R,E=0,T=!1;(w=w.get(Mo))!==void 0&&!T;){var B=w.get(e);if(E+=1,typeof B<"u"){if(B===E)throw new RangeError("Cyclic object value");T=!0}typeof w.get(Mo)>"u"&&(E=0)}if(typeof c=="function"?p=c(r,p):p instanceof Date?p=g(p):n==="comma"&&_t(p)&&(p=ba.maybeMap(p,function(M){return M instanceof Date?g(M):M})),p===null){if(s)return a&&!m?a(r,Ie.encoder,A,"key",f):r;p=""}if(tb(p)||ba.isBuffer(p)){if(a){var z=m?r:a(r,Ie.encoder,A,"key",f);if(n==="comma"&&m){for(var q=J0.call(String(p),","),U="",W=0;W<q.length;++W)U+=(W===0?"":",")+b(a(q[W],Ie.encoder,A,"value",f));return[b(z)+(i&&_t(p)&&q.length===1?"[]":"")+"="+U]}return[b(z)+"="+b(a(p,Ie.encoder,A,"value",f))]}return[b(r)+"="+b(String(p))]}var oe=[];if(typeof p>"u")return oe;var ie;if(n==="comma"&&_t(p))ie=[{value:p.length>0?p.join(",")||null:void 0}];else if(_t(c))ie=c;else{var K=Object.keys(p);ie=u?K.sort(u):K}for(var J=i&&_t(p)&&p.length===1?r+"[]":r,H=0;H<ie.length;++H){var se=ie[H],de=typeof se=="object"&&typeof se.value<"u"?se.value:p[se];if(!(o&&de===null)){var x=_t(p)?typeof n=="function"?n(J,se):J:J+(l?"."+se:"["+se+"]");R.set(e,E);var C=Ql();C.set(Mo,R),Zl(oe,t(de,x,n,i,s,o,a,c,u,l,g,f,b,m,A,C))}}return oe},nb=function(e){if(!e)return Ie;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Ie.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=sn.default;if(typeof e.format<"u"){if(!Y0.call(sn.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=sn.formatters[n],s=Ie.filter;return(typeof e.filter=="function"||_t(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ie.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Ie.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ie.charsetSentinel,delimiter:typeof e.delimiter>"u"?Ie.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ie.encode,encoder:typeof e.encoder=="function"?e.encoder:Ie.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ie.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ie.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ie.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ie.strictNullHandling}},ib=function(t,e){var r=t,n=nb(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):_t(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in Qc?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=Qc[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=Ql(),g=0;g<i.length;++g){var f=i[g];n.skipNulls&&r[f]===null||Zl(o,rb(r[f],f,c,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var b=o.join(n.delimiter),m=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),b.length>0?m+b:""},Ar=Gl,ya=Object.prototype.hasOwnProperty,sb=Array.isArray,ke={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ar.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},ob=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Kl=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},ab="utf8=%26%2310003%3B",cb="utf8=%E2%9C%93",ub=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,u=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===cb?u="utf-8":o[c]===ab&&(u="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var l=o[c],g=l.indexOf("]="),f=g===-1?l.indexOf("="):g+1,b,m;f===-1?(b=r.decoder(l,ke.decoder,u,"key"),m=r.strictNullHandling?null:""):(b=r.decoder(l.slice(0,f),ke.decoder,u,"key"),m=Ar.maybeMap(Kl(l.slice(f+1),r),function(A){return r.decoder(A,ke.decoder,u,"value")})),m&&r.interpretNumericEntities&&u==="iso-8859-1"&&(m=ob(m)),l.indexOf("[]=")>-1&&(m=sb(m)?[m]:m),ya.call(n,b)?n[b]=Ar.combine(n[b],m):n[b]=m}return n},lb=function(t,e,r,n){for(var i=n?e:Kl(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},fb=function(e,r,n,i){if(!!e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),u=c?s.slice(0,c.index):s,l=[];if(u){if(!n.plainObjects&&ya.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var g=0;n.depth>0&&(c=a.exec(s))!==null&&g<n.depth;){if(g+=1,!n.plainObjects&&ya.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+s.slice(c.index)+"]"),lb(l,r,n,i)}},hb=function(e){if(!e)return ke;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ke.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?ke.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ke.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ke.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ke.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ke.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ke.comma,decoder:typeof e.decoder=="function"?e.decoder:ke.decoder,delimiter:typeof e.delimiter=="string"||Ar.isRegExp(e.delimiter)?e.delimiter:ke.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ke.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ke.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ke.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ke.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ke.strictNullHandling}},db=function(t,e){var r=hb(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?ub(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=fb(a,n[a],r,typeof t=="string");i=Ar.merge(i,c,r)}return r.allowSparse===!0?i:Ar.compact(i)},pb=ib,bb=db,yb=Ua,gb={formats:yb,parse:bb,stringify:pb},xn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(xn);var vb=ue&&ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(G,"__esModule",{value:!0});G.isInIFrame=G.createQrUrl=G.getFavicon=G.range=G.isBigNumber=G.ensureParsedJSONObject=G.ensureBN=G.ensureRegExpString=G.ensureIntNumber=G.ensureBuffer=G.ensureAddressString=G.ensureEvenLengthHexString=G.ensureHexString=G.isHexString=G.prepend0x=G.strip0x=G.has0xPrefix=G.hexStringFromIntNumber=G.intNumberFromHexString=G.bigIntStringFromBN=G.hexStringFromBuffer=G.hexStringToUint8Array=G.uint8ArrayToHex=G.randomBytesHex=void 0;const Rt=vb(Si.exports),_b=gb,Ke=xn,Yl=/^[0-9]*$/,Jl=/^[a-f0-9]*$/;function mb(t){return Xl(crypto.getRandomValues(new Uint8Array(t)))}G.randomBytesHex=mb;function Xl(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}G.uint8ArrayToHex=Xl;function wb(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}G.hexStringToUint8Array=wb;function Sb(t,e=!1){const r=t.toString("hex");return(0,Ke.HexString)(e?"0x"+r:r)}G.hexStringFromBuffer=Sb;function Eb(t){return(0,Ke.BigIntString)(t.toString(10))}G.bigIntStringFromBN=Eb;function xb(t){return(0,Ke.IntNumber)(new Rt.default(kn(t,!1),16).toNumber())}G.intNumberFromHexString=xb;function Cb(t){return(0,Ke.HexString)("0x"+new Rt.default(t).toString(16))}G.hexStringFromIntNumber=Cb;function Ha(t){return t.startsWith("0x")||t.startsWith("0X")}G.has0xPrefix=Ha;function Ni(t){return Ha(t)?t.slice(2):t}G.strip0x=Ni;function ef(t){return Ha(t)?"0x"+t.slice(2):"0x"+t}G.prepend0x=ef;function Cn(t){if(typeof t!="string")return!1;const e=Ni(t).toLowerCase();return Jl.test(e)}G.isHexString=Cn;function tf(t,e=!1){if(typeof t=="string"){const r=Ni(t).toLowerCase();if(Jl.test(r))return(0,Ke.HexString)(e?"0x"+r:r)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}G.ensureHexString=tf;function kn(t,e=!1){let r=tf(t,!1);return r.length%2===1&&(r=(0,Ke.HexString)("0"+r)),e?(0,Ke.HexString)("0x"+r):r}G.ensureEvenLengthHexString=kn;function kb(t){if(typeof t=="string"){const e=Ni(t).toLowerCase();if(Cn(e)&&e.length===40)return(0,Ke.AddressString)(ef(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)}G.ensureAddressString=kb;function Ab(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(Cn(t)){const e=kn(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw new Error(`Not binary data: ${String(t)}`)}G.ensureBuffer=Ab;function rf(t){if(typeof t=="number"&&Number.isInteger(t))return(0,Ke.IntNumber)(t);if(typeof t=="string"){if(Yl.test(t))return(0,Ke.IntNumber)(Number(t));if(Cn(t))return(0,Ke.IntNumber)(new Rt.default(kn(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}G.ensureIntNumber=rf;function Mb(t){if(t instanceof RegExp)return(0,Ke.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)}G.ensureRegExpString=Mb;function Ib(t){if(t!==null&&(Rt.default.isBN(t)||nf(t)))return new Rt.default(t.toString(10),10);if(typeof t=="number")return new Rt.default(rf(t));if(typeof t=="string"){if(Yl.test(t))return new Rt.default(t,10);if(Cn(t))return new Rt.default(kn(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)}G.ensureBN=Ib;function Rb(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)}G.ensureParsedJSONObject=Rb;function nf(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}G.isBigNumber=nf;function Tb(t,e){return Array.from({length:e-t},(r,n)=>t+n)}G.range=Tb;function Ob(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}G.getFavicon=Ob;function Nb(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,_b.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}G.createQrUrl=Nb;function Pb(){try{return window.frameElement!==null}catch{return!1}}G.isInIFrame=Pb;Object.defineProperty($r,"__esModule",{value:!0});$r.Session=void 0;const Kc=Al.exports,Yc=G,Jc="session:id",Xc="session:secret",eu="session:linked";class Va{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Yc.randomBytesHex)(16),this._secret=n||(0,Yc.randomBytesHex)(32),this._key=new Kc.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(Jc),n=e.getItem(eu),i=e.getItem(Xc);return r&&i?new Va(e,r,i,n==="1"):null}static hash(e){return new Kc.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Jc,this._id),this._storage.setItem(Xc,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(eu,this._linked?"1":"0")}}$r.Session=Va;var it={};Object.defineProperty(it,"__esModule",{value:!0});it.WalletSDKRelayAbstract=it.APP_VERSION_KEY=it.LOCAL_STORAGE_ADDRESSES_KEY=it.WALLET_USER_NAME_KEY=void 0;const tu=ki;it.WALLET_USER_NAME_KEY="walletUsername";it.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";it.APP_VERSION_KEY="AppVersion";class Lb{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw tu.ethErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,tu.serializeError)(s);return i})}}it.WalletSDKRelayAbstract=Lb;var li={exports:{}},sf=Ei.exports.EventEmitter,Io,ru;function Db(){if(ru)return Io;ru=1;function t(f,b){var m=Object.keys(f);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(f);b&&(A=A.filter(function(R){return Object.getOwnPropertyDescriptor(f,R).enumerable})),m.push.apply(m,A)}return m}function e(f){for(var b=1;b<arguments.length;b++){var m=arguments[b]!=null?arguments[b]:{};b%2?t(Object(m),!0).forEach(function(A){r(f,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(m)):t(Object(m)).forEach(function(A){Object.defineProperty(f,A,Object.getOwnPropertyDescriptor(m,A))})}return f}function r(f,b,m){return b in f?Object.defineProperty(f,b,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[b]=m,f}function n(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}function i(f,b){for(var m=0;m<b.length;m++){var A=b[m];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,A.key,A)}}function s(f,b,m){return b&&i(f.prototype,b),m&&i(f,m),f}var o=wi,a=o.Buffer,c=Oa,u=c.inspect,l=u&&u.custom||"inspect";function g(f,b,m){a.prototype.copy.call(f,b,m)}return Io=function(){function f(){n(this,f),this.head=null,this.tail=null,this.length=0}return s(f,[{key:"push",value:function(m){var A={data:m,next:null};this.length>0?this.tail.next=A:this.head=A,this.tail=A,++this.length}},{key:"unshift",value:function(m){var A={data:m,next:this.head};this.length===0&&(this.tail=A),this.head=A,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var A=this.head,R=""+A.data;A=A.next;)R+=m+A.data;return R}},{key:"concat",value:function(m){if(this.length===0)return a.alloc(0);for(var A=a.allocUnsafe(m>>>0),R=this.head,p=0;R;)g(R.data,A,p),p+=R.data.length,R=R.next;return A}},{key:"consume",value:function(m,A){var R;return m<this.head.data.length?(R=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?R=this.shift():R=A?this._getString(m):this._getBuffer(m),R}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var A=this.head,R=1,p=A.data;for(m-=p.length;A=A.next;){var w=A.data,E=m>w.length?w.length:m;if(E===w.length?p+=w:p+=w.slice(0,m),m-=E,m===0){E===w.length?(++R,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=w.slice(E));break}++R}return this.length-=R,p}},{key:"_getBuffer",value:function(m){var A=a.allocUnsafe(m),R=this.head,p=1;for(R.data.copy(A),m-=R.data.length;R=R.next;){var w=R.data,E=m>w.length?w.length:m;if(w.copy(A,A.length-m,0,E),m-=E,m===0){E===w.length?(++p,R.next?this.head=R.next:this.head=this.tail=null):(this.head=R,R.data=w.slice(E));break}++p}return this.length-=p,A}},{key:l,value:function(m,A){return u(this,e({},A,{depth:0,customInspect:!1}))}}]),f}(),Io}function jb(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(ga,this,t)):process.nextTick(ga,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(Kn,r):(r._writableState.errorEmitted=!0,process.nextTick(nu,r,s)):process.nextTick(nu,r,s):e?(process.nextTick(Kn,r),e(s)):process.nextTick(Kn,r)}),this)}function nu(t,e){ga(t,e),Kn(t)}function Kn(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Bb(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ga(t,e){t.emit("error",e)}function Fb(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var of={destroy:jb,undestroy:Bb,errorOrDestroy:Fb},sr={};function $b(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var af={};function Je(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){$b(o,s);function o(a,c,u){return s.call(this,n(a,c,u))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,af[t]=i}function iu(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Wb(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Ub(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Hb(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Je("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Je("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Wb(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Ub(t," argument"))i="The ".concat(t," ").concat(n," ").concat(iu(e,"type"));else{var s=Hb(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(iu(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Je("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Je("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Je("ERR_STREAM_PREMATURE_CLOSE","Premature close");Je("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Je("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Je("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Je("ERR_STREAM_WRITE_AFTER_END","write after end");Je("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Je("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Je("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");sr.codes=af;var Vb=sr.codes.ERR_INVALID_OPT_VALUE;function zb(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function qb(t,e,r,n){var i=zb(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new Vb(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var cf={getHighWaterMark:qb},Gb=Qb;function Qb(t,e){if(Ro("noDeprecation"))return t;var r=!1;function n(){if(!r){if(Ro("throwDeprecation"))throw new Error(e);Ro("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function Ro(t){try{if(!globalThis.localStorage)return!1}catch{return!1}var e=globalThis.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var To,su;function uf(){if(su)return To;su=1,To=U;function t(y){var _=this;this.next=null,this.entry=null,this.finish=function(){V(_,y)}}var e;U.WritableState=z;var r={deprecate:Gb},n=sf,i=wi.Buffer,s=globalThis.Uint8Array||function(){};function o(y){return i.from(y)}function a(y){return i.isBuffer(y)||y instanceof s}var c=of,u=cf,l=u.getHighWaterMark,g=sr.codes,f=g.ERR_INVALID_ARG_TYPE,b=g.ERR_METHOD_NOT_IMPLEMENTED,m=g.ERR_MULTIPLE_CALLBACK,A=g.ERR_STREAM_CANNOT_PIPE,R=g.ERR_STREAM_DESTROYED,p=g.ERR_STREAM_NULL_VALUES,w=g.ERR_STREAM_WRITE_AFTER_END,E=g.ERR_UNKNOWN_ENCODING,T=c.errorOrDestroy;Ye.exports(U,n);function B(){}function z(y,_,k){e=e||Mr(),y=y||{},typeof k!="boolean"&&(k=_ instanceof e),this.objectMode=!!y.objectMode,k&&(this.objectMode=this.objectMode||!!y.writableObjectMode),this.highWaterMark=l(this,y,"writableHighWaterMark",k),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var L=y.decodeStrings===!1;this.decodeStrings=!L,this.defaultEncoding=y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function($){de(_,$)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=y.emitClose!==!1,this.autoDestroy=!!y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}z.prototype.getBuffer=function(){for(var _=this.bufferedRequest,k=[];_;)k.push(_),_=_.next;return k},function(){try{Object.defineProperty(z.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var q;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(q=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function(_){return q.call(this,_)?!0:this!==U?!1:_&&_._writableState instanceof z}})):q=function(_){return _ instanceof this};function U(y){e=e||Mr();var _=this instanceof e;if(!_&&!q.call(U,this))return new U(y);this._writableState=new z(y,this,_),this.writable=!0,y&&(typeof y.write=="function"&&(this._write=y.write),typeof y.writev=="function"&&(this._writev=y.writev),typeof y.destroy=="function"&&(this._destroy=y.destroy),typeof y.final=="function"&&(this._final=y.final)),n.call(this)}U.prototype.pipe=function(){T(this,new A)};function W(y,_){var k=new w;T(y,k),process.nextTick(_,k)}function oe(y,_,k,L){var $;return k===null?$=new p:typeof k!="string"&&!_.objectMode&&($=new f("chunk",["string","Buffer"],k)),$?(T(y,$),process.nextTick(L,$),!1):!0}U.prototype.write=function(y,_,k){var L=this._writableState,$=!1,h=!L.objectMode&&a(y);return h&&!i.isBuffer(y)&&(y=o(y)),typeof _=="function"&&(k=_,_=null),h?_="buffer":_||(_=L.defaultEncoding),typeof k!="function"&&(k=B),L.ending?W(this,k):(h||oe(this,L,y,k))&&(L.pendingcb++,$=K(this,L,h,y,_,k)),$},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){var y=this._writableState;y.corked&&(y.corked--,!y.writing&&!y.corked&&!y.bufferProcessing&&y.bufferedRequest&&M(this,y))},U.prototype.setDefaultEncoding=function(_){if(typeof _=="string"&&(_=_.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_+"").toLowerCase())>-1))throw new E(_);return this._writableState.defaultEncoding=_,this},Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ie(y,_,k){return!y.objectMode&&y.decodeStrings!==!1&&typeof _=="string"&&(_=i.from(_,k)),_}Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function K(y,_,k,L,$,h){if(!k){var d=ie(_,L,$);L!==d&&(k=!0,$="buffer",L=d)}var O=_.objectMode?1:L.length;_.length+=O;var F=_.length<_.highWaterMark;if(F||(_.needDrain=!0),_.writing||_.corked){var fe=_.lastBufferedRequest;_.lastBufferedRequest={chunk:L,encoding:$,isBuf:k,callback:h,next:null},fe?fe.next=_.lastBufferedRequest:_.bufferedRequest=_.lastBufferedRequest,_.bufferedRequestCount+=1}else J(y,_,!1,O,L,$,h);return F}function J(y,_,k,L,$,h,d){_.writelen=L,_.writecb=d,_.writing=!0,_.sync=!0,_.destroyed?_.onwrite(new R("write")):k?y._writev($,_.onwrite):y._write($,h,_.onwrite),_.sync=!1}function H(y,_,k,L,$){--_.pendingcb,k?(process.nextTick($,L),process.nextTick(S,y,_),y._writableState.errorEmitted=!0,T(y,L)):($(L),y._writableState.errorEmitted=!0,T(y,L),S(y,_))}function se(y){y.writing=!1,y.writecb=null,y.length-=y.writelen,y.writelen=0}function de(y,_){var k=y._writableState,L=k.sync,$=k.writecb;if(typeof $!="function")throw new m;if(se(k),_)H(y,k,L,_,$);else{var h=P(k)||y.destroyed;!h&&!k.corked&&!k.bufferProcessing&&k.bufferedRequest&&M(y,k),L?process.nextTick(x,y,k,h,$):x(y,k,h,$)}}function x(y,_,k,L){k||C(y,_),_.pendingcb--,L(),S(y,_)}function C(y,_){_.length===0&&_.needDrain&&(_.needDrain=!1,y.emit("drain"))}function M(y,_){_.bufferProcessing=!0;var k=_.bufferedRequest;if(y._writev&&k&&k.next){var L=_.bufferedRequestCount,$=new Array(L),h=_.corkedRequestsFree;h.entry=k;for(var d=0,O=!0;k;)$[d]=k,k.isBuf||(O=!1),k=k.next,d+=1;$.allBuffers=O,J(y,_,!0,_.length,$,"",h.finish),_.pendingcb++,_.lastBufferedRequest=null,h.next?(_.corkedRequestsFree=h.next,h.next=null):_.corkedRequestsFree=new t(_),_.bufferedRequestCount=0}else{for(;k;){var F=k.chunk,fe=k.encoding,ee=k.callback,le=_.objectMode?1:F.length;if(J(y,_,!1,le,F,fe,ee),k=k.next,_.bufferedRequestCount--,_.writing)break}k===null&&(_.lastBufferedRequest=null)}_.bufferedRequest=k,_.bufferProcessing=!1}U.prototype._write=function(y,_,k){k(new b("_write()"))},U.prototype._writev=null,U.prototype.end=function(y,_,k){var L=this._writableState;return typeof y=="function"?(k=y,y=null,_=null):typeof _=="function"&&(k=_,_=null),y!=null&&this.write(y,_),L.corked&&(L.corked=1,this.uncork()),L.ending||I(this,L,k),this},Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function P(y){return y.ending&&y.length===0&&y.bufferedRequest===null&&!y.finished&&!y.writing}function j(y,_){y._final(function(k){_.pendingcb--,k&&T(y,k),_.prefinished=!0,y.emit("prefinish"),S(y,_)})}function v(y,_){!_.prefinished&&!_.finalCalled&&(typeof y._final=="function"&&!_.destroyed?(_.pendingcb++,_.finalCalled=!0,process.nextTick(j,y,_)):(_.prefinished=!0,y.emit("prefinish")))}function S(y,_){var k=P(_);if(k&&(v(y,_),_.pendingcb===0&&(_.finished=!0,y.emit("finish"),_.autoDestroy))){var L=y._readableState;(!L||L.autoDestroy&&L.endEmitted)&&y.destroy()}return k}function I(y,_,k){_.ending=!0,S(y,_),k&&(_.finished?process.nextTick(k):y.once("finish",k)),_.ended=!0,y.writable=!1}function V(y,_,k){var L=y.entry;for(y.entry=null;L;){var $=L.callback;_.pendingcb--,$(k),L=L.next}_.corkedRequestsFree.next=y}return Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(_){!this._writableState||(this._writableState.destroyed=_)}}),U.prototype.destroy=c.destroy,U.prototype._undestroy=c.undestroy,U.prototype._destroy=function(y,_){_(y)},To}var Oo,ou;function Mr(){if(ou)return Oo;ou=1;var t=Object.keys||function(u){var l=[];for(var g in u)l.push(g);return l};Oo=o;var e=ff(),r=uf();Ye.exports(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(u){if(!(this instanceof o))return new o(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(c,this)}function c(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),Oo}var No={},au;function cu(){if(au)return No;au=1;var t=bt.exports.Buffer,e=t.isEncoding||function(p){switch(p=""+p,p&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(p){if(!p)return"utf8";for(var w;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(w)return;p=(""+p).toLowerCase(),w=!0}}function n(p){var w=r(p);if(typeof w!="string"&&(t.isEncoding===e||!e(p)))throw new Error("Unknown encoding: "+p);return w||p}No.StringDecoder=i;function i(p){this.encoding=n(p);var w;switch(this.encoding){case"utf16le":this.text=g,this.end=f,w=4;break;case"utf8":this.fillLast=c,w=4;break;case"base64":this.text=b,this.end=m,w=3;break;default:this.write=A,this.end=R;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(w)}i.prototype.write=function(p){if(p.length===0)return"";var w,E;if(this.lastNeed){if(w=this.fillLast(p),w===void 0)return"";E=this.lastNeed,this.lastNeed=0}else E=0;return E<p.length?w?w+this.text(p,E):this.text(p,E):w||""},i.prototype.end=l,i.prototype.text=u,i.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length};function s(p){return p<=127?0:p>>5===6?2:p>>4===14?3:p>>3===30?4:p>>6===2?-1:-2}function o(p,w,E){var T=w.length-1;if(T<E)return 0;var B=s(w[T]);return B>=0?(B>0&&(p.lastNeed=B-1),B):--T<E||B===-2?0:(B=s(w[T]),B>=0?(B>0&&(p.lastNeed=B-2),B):--T<E||B===-2?0:(B=s(w[T]),B>=0?(B>0&&(B===2?B=0:p.lastNeed=B-3),B):0))}function a(p,w,E){if((w[0]&192)!==128)return p.lastNeed=0,"\uFFFD";if(p.lastNeed>1&&w.length>1){if((w[1]&192)!==128)return p.lastNeed=1,"\uFFFD";if(p.lastNeed>2&&w.length>2&&(w[2]&192)!==128)return p.lastNeed=2,"\uFFFD"}}function c(p){var w=this.lastTotal-this.lastNeed,E=a(this,p);if(E!==void 0)return E;if(this.lastNeed<=p.length)return p.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,w,0,p.length),this.lastNeed-=p.length}function u(p,w){var E=o(this,p,w);if(!this.lastNeed)return p.toString("utf8",w);this.lastTotal=E;var T=p.length-(E-this.lastNeed);return p.copy(this.lastChar,0,T),p.toString("utf8",w,T)}function l(p){var w=p&&p.length?this.write(p):"";return this.lastNeed?w+"\uFFFD":w}function g(p,w){if((p.length-w)%2===0){var E=p.toString("utf16le",w);if(E){var T=E.charCodeAt(E.length-1);if(T>=55296&&T<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],E.slice(0,-1)}return E}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",w,p.length-1)}function f(p){var w=p&&p.length?this.write(p):"";if(this.lastNeed){var E=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,E)}return w}function b(p,w){var E=(p.length-w)%3;return E===0?p.toString("base64",w):(this.lastNeed=3-E,this.lastTotal=3,E===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",w,p.length-E))}function m(p){var w=p&&p.length?this.write(p):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function A(p){return p.toString(this.encoding)}function R(p){return p&&p.length?this.write(p):""}return No}var uu=sr.codes.ERR_STREAM_PREMATURE_CLOSE;function Zb(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function Kb(){}function Yb(t){return t.setHeader&&typeof t.abort=="function"}function lf(t,e,r){if(typeof e=="function")return lf(t,null,e);e||(e={}),r=Zb(r||Kb);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,u=function(){n=!1,c=!0,i||r.call(t)},l=function(m){r.call(t,m)},g=function(){var m;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(m=new uu),r.call(t,m);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(m=new uu),r.call(t,m)},f=function(){t.req.on("finish",a)};return Yb(t)?(t.on("complete",a),t.on("abort",g),t.req?f():t.on("request",f)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",u),t.on("finish",a),e.error!==!1&&t.on("error",l),t.on("close",g),function(){t.removeListener("complete",a),t.removeListener("abort",g),t.removeListener("request",f),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",u),t.removeListener("error",l),t.removeListener("close",g)}}var za=lf,Po,lu;function Jb(){if(lu)return Po;lu=1;var t;function e(p,w,E){return w in p?Object.defineProperty(p,w,{value:E,enumerable:!0,configurable:!0,writable:!0}):p[w]=E,p}var r=za,n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),c=Symbol("handlePromise"),u=Symbol("stream");function l(p,w){return{value:p,done:w}}function g(p){var w=p[n];if(w!==null){var E=p[u].read();E!==null&&(p[a]=null,p[n]=null,p[i]=null,w(l(E,!1)))}}function f(p){process.nextTick(g,p)}function b(p,w){return function(E,T){p.then(function(){if(w[o]){E(l(void 0,!0));return}w[c](E,T)},T)}}var m=Object.getPrototypeOf(function(){}),A=Object.setPrototypeOf((t={get stream(){return this[u]},next:function(){var w=this,E=this[s];if(E!==null)return Promise.reject(E);if(this[o])return Promise.resolve(l(void 0,!0));if(this[u].destroyed)return new Promise(function(q,U){process.nextTick(function(){w[s]?U(w[s]):q(l(void 0,!0))})});var T=this[a],B;if(T)B=new Promise(b(T,this));else{var z=this[u].read();if(z!==null)return Promise.resolve(l(z,!1));B=new Promise(this[c])}return this[a]=B,B}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var w=this;return new Promise(function(E,T){w[u].destroy(null,function(B){if(B){T(B);return}E(l(void 0,!0))})})}),t),m),R=function(w){var E,T=Object.create(A,(E={},e(E,u,{value:w,writable:!0}),e(E,n,{value:null,writable:!0}),e(E,i,{value:null,writable:!0}),e(E,s,{value:null,writable:!0}),e(E,o,{value:w._readableState.endEmitted,writable:!0}),e(E,c,{value:function(z,q){var U=T[u].read();U?(T[a]=null,T[n]=null,T[i]=null,z(l(U,!1))):(T[n]=z,T[i]=q)},writable:!0}),E));return T[a]=null,r(w,function(B){if(B&&B.code!=="ERR_STREAM_PREMATURE_CLOSE"){var z=T[i];z!==null&&(T[a]=null,T[n]=null,T[i]=null,z(B)),T[s]=B;return}var q=T[n];q!==null&&(T[a]=null,T[n]=null,T[i]=null,q(l(void 0,!0))),T[o]=!0}),w.on("readable",f.bind(null,T)),T};return Po=R,Po}var Lo,fu;function Xb(){return fu||(fu=1,Lo=function(){throw new Error("Readable.from is not available in the browser")}),Lo}var Do,hu;function ff(){if(hu)return Do;hu=1,Do=W;var t;W.ReadableState=U,Ei.exports.EventEmitter;var e=function(d,O){return d.listeners(O).length},r=sf,n=wi.Buffer,i=globalThis.Uint8Array||function(){};function s(h){return n.from(h)}function o(h){return n.isBuffer(h)||h instanceof i}var a=Oa,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var u=Db(),l=of,g=cf,f=g.getHighWaterMark,b=sr.codes,m=b.ERR_INVALID_ARG_TYPE,A=b.ERR_STREAM_PUSH_AFTER_EOF,R=b.ERR_METHOD_NOT_IMPLEMENTED,p=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w,E,T;Ye.exports(W,r);var B=l.errorOrDestroy,z=["error","close","destroy","pause","resume"];function q(h,d,O){if(typeof h.prependListener=="function")return h.prependListener(d,O);!h._events||!h._events[d]?h.on(d,O):Array.isArray(h._events[d])?h._events[d].unshift(O):h._events[d]=[O,h._events[d]]}function U(h,d,O){t=t||Mr(),h=h||{},typeof O!="boolean"&&(O=d instanceof t),this.objectMode=!!h.objectMode,O&&(this.objectMode=this.objectMode||!!h.readableObjectMode),this.highWaterMark=f(this,h,"readableHighWaterMark",O),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=h.emitClose!==!1,this.autoDestroy=!!h.autoDestroy,this.destroyed=!1,this.defaultEncoding=h.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,h.encoding&&(w||(w=cu().StringDecoder),this.decoder=new w(h.encoding),this.encoding=h.encoding)}function W(h){if(t=t||Mr(),!(this instanceof W))return new W(h);var d=this instanceof t;this._readableState=new U(h,this,d),this.readable=!0,h&&(typeof h.read=="function"&&(this._read=h.read),typeof h.destroy=="function"&&(this._destroy=h.destroy)),r.call(this)}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(d){!this._readableState||(this._readableState.destroyed=d)}}),W.prototype.destroy=l.destroy,W.prototype._undestroy=l.undestroy,W.prototype._destroy=function(h,d){d(h)},W.prototype.push=function(h,d){var O=this._readableState,F;return O.objectMode?F=!0:typeof h=="string"&&(d=d||O.defaultEncoding,d!==O.encoding&&(h=n.from(h,d),d=""),F=!0),oe(this,h,d,!1,F)},W.prototype.unshift=function(h){return oe(this,h,null,!0,!1)};function oe(h,d,O,F,fe){c("readableAddChunk",d);var ee=h._readableState;if(d===null)ee.reading=!1,de(h,ee);else{var le;if(fe||(le=K(ee,d)),le)B(h,le);else if(ee.objectMode||d&&d.length>0)if(typeof d!="string"&&!ee.objectMode&&Object.getPrototypeOf(d)!==n.prototype&&(d=s(d)),F)ee.endEmitted?B(h,new p):ie(h,ee,d,!0);else if(ee.ended)B(h,new A);else{if(ee.destroyed)return!1;ee.reading=!1,ee.decoder&&!O?(d=ee.decoder.write(d),ee.objectMode||d.length!==0?ie(h,ee,d,!1):M(h,ee)):ie(h,ee,d,!1)}else F||(ee.reading=!1,M(h,ee))}return!ee.ended&&(ee.length<ee.highWaterMark||ee.length===0)}function ie(h,d,O,F){d.flowing&&d.length===0&&!d.sync?(d.awaitDrain=0,h.emit("data",O)):(d.length+=d.objectMode?1:O.length,F?d.buffer.unshift(O):d.buffer.push(O),d.needReadable&&x(h)),M(h,d)}function K(h,d){var O;return!o(d)&&typeof d!="string"&&d!==void 0&&!h.objectMode&&(O=new m("chunk",["string","Buffer","Uint8Array"],d)),O}W.prototype.isPaused=function(){return this._readableState.flowing===!1},W.prototype.setEncoding=function(h){w||(w=cu().StringDecoder);var d=new w(h);this._readableState.decoder=d,this._readableState.encoding=this._readableState.decoder.encoding;for(var O=this._readableState.buffer.head,F="";O!==null;)F+=d.write(O.data),O=O.next;return this._readableState.buffer.clear(),F!==""&&this._readableState.buffer.push(F),this._readableState.length=F.length,this};var J=1073741824;function H(h){return h>=J?h=J:(h--,h|=h>>>1,h|=h>>>2,h|=h>>>4,h|=h>>>8,h|=h>>>16,h++),h}function se(h,d){return h<=0||d.length===0&&d.ended?0:d.objectMode?1:h!==h?d.flowing&&d.length?d.buffer.head.data.length:d.length:(h>d.highWaterMark&&(d.highWaterMark=H(h)),h<=d.length?h:d.ended?d.length:(d.needReadable=!0,0))}W.prototype.read=function(h){c("read",h),h=parseInt(h,10);var d=this._readableState,O=h;if(h!==0&&(d.emittedReadable=!1),h===0&&d.needReadable&&((d.highWaterMark!==0?d.length>=d.highWaterMark:d.length>0)||d.ended))return c("read: emitReadable",d.length,d.ended),d.length===0&&d.ended?k(this):x(this),null;if(h=se(h,d),h===0&&d.ended)return d.length===0&&k(this),null;var F=d.needReadable;c("need readable",F),(d.length===0||d.length-h<d.highWaterMark)&&(F=!0,c("length less than watermark",F)),d.ended||d.reading?(F=!1,c("reading or ended",F)):F&&(c("do read"),d.reading=!0,d.sync=!0,d.length===0&&(d.needReadable=!0),this._read(d.highWaterMark),d.sync=!1,d.reading||(h=se(O,d)));var fe;return h>0?fe=_(h,d):fe=null,fe===null?(d.needReadable=d.length<=d.highWaterMark,h=0):(d.length-=h,d.awaitDrain=0),d.length===0&&(d.ended||(d.needReadable=!0),O!==h&&d.ended&&k(this)),fe!==null&&this.emit("data",fe),fe};function de(h,d){if(c("onEofChunk"),!d.ended){if(d.decoder){var O=d.decoder.end();O&&O.length&&(d.buffer.push(O),d.length+=d.objectMode?1:O.length)}d.ended=!0,d.sync?x(h):(d.needReadable=!1,d.emittedReadable||(d.emittedReadable=!0,C(h)))}}function x(h){var d=h._readableState;c("emitReadable",d.needReadable,d.emittedReadable),d.needReadable=!1,d.emittedReadable||(c("emitReadable",d.flowing),d.emittedReadable=!0,process.nextTick(C,h))}function C(h){var d=h._readableState;c("emitReadable_",d.destroyed,d.length,d.ended),!d.destroyed&&(d.length||d.ended)&&(h.emit("readable"),d.emittedReadable=!1),d.needReadable=!d.flowing&&!d.ended&&d.length<=d.highWaterMark,y(h)}function M(h,d){d.readingMore||(d.readingMore=!0,process.nextTick(P,h,d))}function P(h,d){for(;!d.reading&&!d.ended&&(d.length<d.highWaterMark||d.flowing&&d.length===0);){var O=d.length;if(c("maybeReadMore read 0"),h.read(0),O===d.length)break}d.readingMore=!1}W.prototype._read=function(h){B(this,new R("_read()"))},W.prototype.pipe=function(h,d){var O=this,F=this._readableState;switch(F.pipesCount){case 0:F.pipes=h;break;case 1:F.pipes=[F.pipes,h];break;default:F.pipes.push(h);break}F.pipesCount+=1,c("pipe count=%d opts=%j",F.pipesCount,d);var fe=(!d||d.end!==!1)&&h!==process.stdout&&h!==process.stderr,ee=fe?et:Ct;F.endEmitted?process.nextTick(ee):O.once("end",ee),h.on("unpipe",le);function le(gt,st){c("onunpipe"),gt===O&&st&&st.hasUnpiped===!1&&(st.hasUnpiped=!0,Qr())}function et(){c("onend"),h.end()}var N=j(O);h.on("drain",N);var Ht=!1;function Qr(){c("cleanup"),h.removeListener("close",ur),h.removeListener("finish",lr),h.removeListener("drain",N),h.removeListener("error",cr),h.removeListener("unpipe",le),O.removeListener("end",et),O.removeListener("end",Ct),O.removeListener("data",Zr),Ht=!0,F.awaitDrain&&(!h._writableState||h._writableState.needDrain)&&N()}O.on("data",Zr);function Zr(gt){c("ondata");var st=h.write(gt);c("dest.write",st),st===!1&&((F.pipesCount===1&&F.pipes===h||F.pipesCount>1&&$(F.pipes,h)!==-1)&&!Ht&&(c("false write response, pause",F.awaitDrain),F.awaitDrain++),O.pause())}function cr(gt){c("onerror",gt),Ct(),h.removeListener("error",cr),e(h,"error")===0&&B(h,gt)}q(h,"error",cr);function ur(){h.removeListener("finish",lr),Ct()}h.once("close",ur);function lr(){c("onfinish"),h.removeListener("close",ur),Ct()}h.once("finish",lr);function Ct(){c("unpipe"),O.unpipe(h)}return h.emit("pipe",O),F.flowing||(c("pipe resume"),O.resume()),h};function j(h){return function(){var O=h._readableState;c("pipeOnDrain",O.awaitDrain),O.awaitDrain&&O.awaitDrain--,O.awaitDrain===0&&e(h,"data")&&(O.flowing=!0,y(h))}}W.prototype.unpipe=function(h){var d=this._readableState,O={hasUnpiped:!1};if(d.pipesCount===0)return this;if(d.pipesCount===1)return h&&h!==d.pipes?this:(h||(h=d.pipes),d.pipes=null,d.pipesCount=0,d.flowing=!1,h&&h.emit("unpipe",this,O),this);if(!h){var F=d.pipes,fe=d.pipesCount;d.pipes=null,d.pipesCount=0,d.flowing=!1;for(var ee=0;ee<fe;ee++)F[ee].emit("unpipe",this,{hasUnpiped:!1});return this}var le=$(d.pipes,h);return le===-1?this:(d.pipes.splice(le,1),d.pipesCount-=1,d.pipesCount===1&&(d.pipes=d.pipes[0]),h.emit("unpipe",this,O),this)},W.prototype.on=function(h,d){var O=r.prototype.on.call(this,h,d),F=this._readableState;return h==="data"?(F.readableListening=this.listenerCount("readable")>0,F.flowing!==!1&&this.resume()):h==="readable"&&!F.endEmitted&&!F.readableListening&&(F.readableListening=F.needReadable=!0,F.flowing=!1,F.emittedReadable=!1,c("on readable",F.length,F.reading),F.length?x(this):F.reading||process.nextTick(S,this)),O},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(h,d){var O=r.prototype.removeListener.call(this,h,d);return h==="readable"&&process.nextTick(v,this),O},W.prototype.removeAllListeners=function(h){var d=r.prototype.removeAllListeners.apply(this,arguments);return(h==="readable"||h===void 0)&&process.nextTick(v,this),d};function v(h){var d=h._readableState;d.readableListening=h.listenerCount("readable")>0,d.resumeScheduled&&!d.paused?d.flowing=!0:h.listenerCount("data")>0&&h.resume()}function S(h){c("readable nexttick read 0"),h.read(0)}W.prototype.resume=function(){var h=this._readableState;return h.flowing||(c("resume"),h.flowing=!h.readableListening,I(this,h)),h.paused=!1,this};function I(h,d){d.resumeScheduled||(d.resumeScheduled=!0,process.nextTick(V,h,d))}function V(h,d){c("resume",d.reading),d.reading||h.read(0),d.resumeScheduled=!1,h.emit("resume"),y(h),d.flowing&&!d.reading&&h.read(0)}W.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function y(h){var d=h._readableState;for(c("flow",d.flowing);d.flowing&&h.read()!==null;);}W.prototype.wrap=function(h){var d=this,O=this._readableState,F=!1;h.on("end",function(){if(c("wrapped end"),O.decoder&&!O.ended){var le=O.decoder.end();le&&le.length&&d.push(le)}d.push(null)}),h.on("data",function(le){if(c("wrapped data"),O.decoder&&(le=O.decoder.write(le)),!(O.objectMode&&le==null)&&!(!O.objectMode&&(!le||!le.length))){var et=d.push(le);et||(F=!0,h.pause())}});for(var fe in h)this[fe]===void 0&&typeof h[fe]=="function"&&(this[fe]=function(et){return function(){return h[et].apply(h,arguments)}}(fe));for(var ee=0;ee<z.length;ee++)h.on(z[ee],this.emit.bind(this,z[ee]));return this._read=function(le){c("wrapped _read",le),F&&(F=!1,h.resume())},this},typeof Symbol=="function"&&(W.prototype[Symbol.asyncIterator]=function(){return E===void 0&&(E=Jb()),E(this)}),Object.defineProperty(W.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(W.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(W.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(d){this._readableState&&(this._readableState.flowing=d)}}),W._fromList=_,Object.defineProperty(W.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function _(h,d){if(d.length===0)return null;var O;return d.objectMode?O=d.buffer.shift():!h||h>=d.length?(d.decoder?O=d.buffer.join(""):d.buffer.length===1?O=d.buffer.first():O=d.buffer.concat(d.length),d.buffer.clear()):O=d.buffer.consume(h,d.decoder),O}function k(h){var d=h._readableState;c("endReadable",d.endEmitted),d.endEmitted||(d.ended=!0,process.nextTick(L,d,h))}function L(h,d){if(c("endReadableNT",h.endEmitted,h.length),!h.endEmitted&&h.length===0&&(h.endEmitted=!0,d.readable=!1,d.emit("end"),h.autoDestroy)){var O=d._writableState;(!O||O.autoDestroy&&O.finished)&&d.destroy()}}typeof Symbol=="function"&&(W.from=function(h,d){return T===void 0&&(T=Xb()),T(W,h,d)});function $(h,d){for(var O=0,F=h.length;O<F;O++)if(h[O]===d)return O;return-1}return Do}var hf=St,Pi=sr.codes,ey=Pi.ERR_METHOD_NOT_IMPLEMENTED,ty=Pi.ERR_MULTIPLE_CALLBACK,ry=Pi.ERR_TRANSFORM_ALREADY_TRANSFORMING,ny=Pi.ERR_TRANSFORM_WITH_LENGTH_0,Li=Mr();Ye.exports(St,Li);function iy(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new ty);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function St(t){if(!(this instanceof St))return new St(t);Li.call(this,t),this._transformState={afterTransform:iy.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",sy)}function sy(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){du(t,e,r)}):du(this,null,null)}St.prototype.push=function(t,e){return this._transformState.needTransform=!1,Li.prototype.push.call(this,t,e)};St.prototype._transform=function(t,e,r){r(new ey("_transform()"))};St.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};St.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};St.prototype._destroy=function(t,e){Li.prototype._destroy.call(this,t,function(r){e(r)})};function du(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new ny;if(t._transformState.transforming)throw new ry;return t.push(null)}var oy=hn,df=hf;Ye.exports(hn,df);function hn(t){if(!(this instanceof hn))return new hn(t);df.call(this,t)}hn.prototype._transform=function(t,e,r){r(null,t)};var jo;function ay(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var pf=sr.codes,cy=pf.ERR_MISSING_ARGS,uy=pf.ERR_STREAM_DESTROYED;function pu(t){if(t)throw t}function ly(t){return t.setHeader&&typeof t.abort=="function"}function fy(t,e,r,n){n=ay(n);var i=!1;t.on("close",function(){i=!0}),jo===void 0&&(jo=za),jo(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,ly(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new uy("pipe"))}}}function bu(t){t()}function hy(t,e){return t.pipe(e)}function dy(t){return!t.length||typeof t[t.length-1]!="function"?pu:t.pop()}function py(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=dy(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new cy("streams");var i,s=e.map(function(o,a){var c=a<e.length-1,u=a>0;return fy(o,c,u,function(l){i||(i=l),l&&s.forEach(bu),!c&&(s.forEach(bu),n(i))})});return e.reduce(hy)}var by=py;(function(t,e){e=t.exports=ff(),e.Stream=e,e.Readable=e,e.Writable=uf(),e.Duplex=Mr(),e.Transform=hf,e.PassThrough=oy,e.finished=za,e.pipeline=by})(li,li.exports);const{Transform:yy}=li.exports;var gy=t=>class bf extends yy{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new bf(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:vy}=li.exports;var _y=t=>class yf extends vy{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new yf(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const my=gy,wy=_y;var Sy=function(t){const e=my(t),r=wy(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},gf={};const yu=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];gf.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],u=t[7]^t[17]^t[27]^t[37]^t[47],l=t[8]^t[18]^t[28]^t[38]^t[48],g=t[9]^t[19]^t[29]^t[39]^t[49];let f=l^(i<<1|s>>>31),b=g^(s<<1|i>>>31);const m=t[0]^f,A=t[1]^b,R=t[10]^f,p=t[11]^b,w=t[20]^f,E=t[21]^b,T=t[30]^f,B=t[31]^b,z=t[40]^f,q=t[41]^b;f=r^(o<<1|a>>>31),b=n^(a<<1|o>>>31);const U=t[2]^f,W=t[3]^b,oe=t[12]^f,ie=t[13]^b,K=t[22]^f,J=t[23]^b,H=t[32]^f,se=t[33]^b,de=t[42]^f,x=t[43]^b;f=i^(c<<1|u>>>31),b=s^(u<<1|c>>>31);const C=t[4]^f,M=t[5]^b,P=t[14]^f,j=t[15]^b,v=t[24]^f,S=t[25]^b,I=t[34]^f,V=t[35]^b,y=t[44]^f,_=t[45]^b;f=o^(l<<1|g>>>31),b=a^(g<<1|l>>>31);const k=t[6]^f,L=t[7]^b,$=t[16]^f,h=t[17]^b,d=t[26]^f,O=t[27]^b,F=t[36]^f,fe=t[37]^b,ee=t[46]^f,le=t[47]^b;f=c^(r<<1|n>>>31),b=u^(n<<1|r>>>31);const et=t[8]^f,N=t[9]^b,Ht=t[18]^f,Qr=t[19]^b,Zr=t[28]^f,cr=t[29]^b,ur=t[38]^f,lr=t[39]^b,Ct=t[48]^f,gt=t[49]^b,st=m,Es=A,xs=p<<4|R>>>28,Cs=R<<4|p>>>28,ks=w<<3|E>>>29,As=E<<3|w>>>29,Ms=B<<9|T>>>23,Is=T<<9|B>>>23,Rs=z<<18|q>>>14,Ts=q<<18|z>>>14,Os=U<<1|W>>>31,Ns=W<<1|U>>>31,Ps=ie<<12|oe>>>20,Ls=oe<<12|ie>>>20,Ds=K<<10|J>>>22,js=J<<10|K>>>22,Bs=se<<13|H>>>19,Fs=H<<13|se>>>19,$s=de<<2|x>>>30,Ws=x<<2|de>>>30,Us=M<<30|C>>>2,Hs=C<<30|M>>>2,Vs=P<<6|j>>>26,zs=j<<6|P>>>26,qs=S<<11|v>>>21,Gs=v<<11|S>>>21,Qs=I<<15|V>>>17,Zs=V<<15|I>>>17,Ks=_<<29|y>>>3,Ys=y<<29|_>>>3,Js=k<<28|L>>>4,Xs=L<<28|k>>>4,eo=h<<23|$>>>9,to=$<<23|h>>>9,ro=d<<25|O>>>7,no=O<<25|d>>>7,io=F<<21|fe>>>11,so=fe<<21|F>>>11,oo=le<<24|ee>>>8,ao=ee<<24|le>>>8,co=et<<27|N>>>5,uo=N<<27|et>>>5,lo=Ht<<20|Qr>>>12,fo=Qr<<20|Ht>>>12,ho=cr<<7|Zr>>>25,po=Zr<<7|cr>>>25,bo=ur<<8|lr>>>24,yo=lr<<8|ur>>>24,go=Ct<<14|gt>>>18,vo=gt<<14|Ct>>>18;t[0]=st^~Ps&qs,t[1]=Es^~Ls&Gs,t[10]=Js^~lo&ks,t[11]=Xs^~fo&As,t[20]=Os^~Vs&ro,t[21]=Ns^~zs&no,t[30]=co^~xs&Ds,t[31]=uo^~Cs&js,t[40]=Us^~eo&ho,t[41]=Hs^~to&po,t[2]=Ps^~qs&io,t[3]=Ls^~Gs&so,t[12]=lo^~ks&Bs,t[13]=fo^~As&Fs,t[22]=Vs^~ro&bo,t[23]=zs^~no&yo,t[32]=xs^~Ds&Qs,t[33]=Cs^~js&Zs,t[42]=eo^~ho&Ms,t[43]=to^~po&Is,t[4]=qs^~io&go,t[5]=Gs^~so&vo,t[14]=ks^~Bs&Ks,t[15]=As^~Fs&Ys,t[24]=ro^~bo&Rs,t[25]=no^~yo&Ts,t[34]=Ds^~Qs&oo,t[35]=js^~Zs&ao,t[44]=ho^~Ms&$s,t[45]=po^~Is&Ws,t[6]=io^~go&st,t[7]=so^~vo&Es,t[16]=Bs^~Ks&Js,t[17]=Fs^~Ys&Xs,t[26]=bo^~Rs&Os,t[27]=yo^~Ts&Ns,t[36]=Qs^~oo&co,t[37]=Zs^~ao&uo,t[46]=Ms^~$s&Us,t[47]=Is^~Ws&Hs,t[8]=go^~st&Ps,t[9]=vo^~Es&Ls,t[18]=Ks^~Js&lo,t[19]=Ys^~Xs&fo,t[28]=Rs^~Os&Vs,t[29]=Ts^~Ns&zs,t[38]=oo^~co&xs,t[39]=ao^~uo&Cs,t[48]=$s^~Us&eo,t[49]=Ws^~Hs&to,t[0]^=yu[e*2],t[1]^=yu[e*2+1]}};const fi=gf;function Hr(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Hr.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};Hr.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(fi.p1600(this.state),this.count=0)};Hr.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),(t&128)!==0&&this.count===this.blockSize-1&&fi.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),fi.p1600(this.state),this.count=0,this.squeezing=!0};Hr.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(fi.p1600(this.state),this.count=0);return e};Hr.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var Ey=Hr,xy=Sy(Ey);const Cy=xy,ky=Si.exports;function vf(t){return Buffer.allocUnsafe(t).fill(0)}function _f(t,e,r){const n=vf(e);return t=Di(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function Ay(t,e){return _f(t,e,!0)}function Di(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")mf(t)?t=Buffer.from(Ry(wf(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(ky.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function My(t){return t=Di(t),"0x"+t.toString("hex")}function Iy(t,e){return t=Di(t),e||(e=256),Cy("keccak"+e).update(t).digest()}function Ry(t){return t.length%2?"0"+t:t}function mf(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function wf(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Sf={zeros:vf,setLength:_f,setLengthRight:Ay,isHexString:mf,stripHexPrefix:wf,toBuffer:Di,bufferToHex:My,keccak:Iy};const tr=Sf,Yt=Si.exports;function Ef(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Sr(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function gu(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function xf(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Gt(t){var e=typeof t;if(e==="string")return tr.isHexString(t)?new Yt(tr.stripHexPrefix(t),16):new Yt(t,10);if(e==="number")return new Yt(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function ct(t,e){var r,n,i,s;if(t==="address")return ct("uint160",Gt(e));if(t==="bool")return ct("uint8",e?1:0);if(t==="string")return ct("bytes",new Buffer(e,"utf8"));if(Oy(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=xf(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(ct(t,e[s]));if(r==="dynamic"){var o=ct("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([ct("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,tr.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Sr(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return tr.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Sr(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Gt(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=Sr(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Gt(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=gu(t),n=Gt(e),n<0)throw new Error("Supplied ufixed is negative");return ct("uint256",n.mul(new Yt(2).pow(new Yt(r[1]))))}else if(t.startsWith("fixed"))return r=gu(t),ct("int256",Gt(e).mul(new Yt(2).pow(new Yt(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function Ty(t){return t==="string"||t==="bytes"||xf(t)==="dynamic"}function Oy(t){return t.lastIndexOf("]")===t.length-1}function Ny(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=Ef(t[s]),a=e[s],c=ct(o,a);Ty(o)?(r.push(ct("uint256",i)),n.push(c),i+=c.length):r.push(c)}return Buffer.concat(r.concat(n))}function Cf(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=Ef(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(tr.setLength(a,20));else if(o.startsWith("bytes")){if(r=Sr(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(tr.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=Sr(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Gt(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=Sr(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Gt(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function Py(t,e){return tr.keccak(Cf(t,e))}var Ly={rawEncode:Ny,solidityPack:Cf,soliditySHA3:Py};const rt=Sf,on=Ly,kf={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Bo={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,u)=>{if(r[c]!==void 0)return["bytes32",u==null?"0x0000000000000000000000000000000000000000000000000000000000000000":rt.keccak(this.encodeData(c,u,r,n))];if(u===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",rt.keccak(u)];if(c==="string")return typeof u=="string"&&(u=Buffer.from(u,"utf8")),["bytes32",rt.keccak(u)];if(c.lastIndexOf("]")===c.length-1){const l=c.slice(0,c.lastIndexOf("[")),g=u.map(f=>o(a,l,f));return["bytes32",rt.keccak(on.rawEncode(g.map(([f])=>f),g.map(([,f])=>f)))]}return[c,u]};for(const a of r[t]){const[c,u]=o(a.name,a.type,e[a.name]);i.push(c),s.push(u)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=rt.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=rt.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=rt.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return on.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return rt.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return rt.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in kf.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),rt.keccak(Buffer.concat(n))}};var Dy={TYPED_MESSAGE_SCHEMA:kf,TypedDataUtils:Bo,hashForSignTypedDataLegacy:function(t){return jy(t.data)},hashForSignTypedData_v3:function(t){return Bo.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return Bo.hash(t.data)}};function jy(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?rt.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return on.soliditySHA3(["bytes32","bytes32"],[on.soliditySHA3(new Array(t.length).fill("string"),i),on.soliditySHA3(n,r)])}var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.filterFromParam=Ir.FilterPolyfill=void 0;const yr=xn,je=G,By=5*60*1e3,Qt={jsonrpc:"2.0",id:0};class Fy{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,yr.IntNumber)(1),this.provider=e}async newFilter(e){const r=Af(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,je.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,je.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,je.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,je.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,je.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(Un())}async getFilterLogs(e){const r=(0,je.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},Qt),{method:"eth_getLogs",params:[vu(n)]})):Un()}makeFilterId(){return(0,yr.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return Un();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return Hn();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},Qt),{method:"eth_getLogs",params:[vu(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(u=>(0,je.intNumberFromHexString)(u.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const u=(0,yr.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${u}`),this.cursors.set(e,u)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return Un();const n=await this.getCurrentBlockHeight();if(r>n)return Hn();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,je.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,yr.IntNumber)(o))))).filter(o=>!!o),s=(0,yr.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},Qt),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(Hn())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},By);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},Qt),{method:"eth_blockNumber",params:[]}));return(0,je.intNumberFromHexString)((0,je.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},Qt),{method:"eth_getBlockByNumber",params:[(0,je.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,je.ensureHexString)(r.result.hash):null}}Ir.FilterPolyfill=Fy;function Af(t){return{fromBlock:_u(t.fromBlock),toBlock:_u(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}Ir.filterFromParam=Af;function vu(t){const e={fromBlock:mu(t.fromBlock),toBlock:mu(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function _u(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,yr.IntNumber)(0);if((0,je.isHexString)(t))return(0,je.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function mu(t){return t==="latest"?t:(0,je.hexStringFromIntNumber)(t)}function Un(){return Object.assign(Object.assign({},Qt),{error:{code:-32e3,message:"filter not found"}})}function Hn(){return Object.assign(Object.assign({},Qt),{result:[]})}var Mf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(Mf);var ji={};const wu=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let u=1;u<arguments.length;u++)c[u-1]=arguments[u];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,n)})};var $y=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):wu(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?wu(s,e):s}return n},Wy=Hy,Uy=Object.prototype.hasOwnProperty;function Hy(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)Uy.call(r,n)&&(t[n]=r[n])}return t}var Vy=zy;function zy(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const qy=Wy,Gy=Vy();var Qy=Y;function Y(t){const e=this;e.currentProvider=t}Y.prototype.getBalance=An(2,"eth_getBalance");Y.prototype.getCode=An(2,"eth_getCode");Y.prototype.getTransactionCount=An(2,"eth_getTransactionCount");Y.prototype.getStorageAt=An(3,"eth_getStorageAt");Y.prototype.call=An(2,"eth_call");Y.prototype.protocolVersion=ne("eth_protocolVersion");Y.prototype.syncing=ne("eth_syncing");Y.prototype.coinbase=ne("eth_coinbase");Y.prototype.mining=ne("eth_mining");Y.prototype.hashrate=ne("eth_hashrate");Y.prototype.gasPrice=ne("eth_gasPrice");Y.prototype.accounts=ne("eth_accounts");Y.prototype.blockNumber=ne("eth_blockNumber");Y.prototype.getBlockTransactionCountByHash=ne("eth_getBlockTransactionCountByHash");Y.prototype.getBlockTransactionCountByNumber=ne("eth_getBlockTransactionCountByNumber");Y.prototype.getUncleCountByBlockHash=ne("eth_getUncleCountByBlockHash");Y.prototype.getUncleCountByBlockNumber=ne("eth_getUncleCountByBlockNumber");Y.prototype.sign=ne("eth_sign");Y.prototype.sendTransaction=ne("eth_sendTransaction");Y.prototype.sendRawTransaction=ne("eth_sendRawTransaction");Y.prototype.estimateGas=ne("eth_estimateGas");Y.prototype.getBlockByHash=ne("eth_getBlockByHash");Y.prototype.getBlockByNumber=ne("eth_getBlockByNumber");Y.prototype.getTransactionByHash=ne("eth_getTransactionByHash");Y.prototype.getTransactionByBlockHashAndIndex=ne("eth_getTransactionByBlockHashAndIndex");Y.prototype.getTransactionByBlockNumberAndIndex=ne("eth_getTransactionByBlockNumberAndIndex");Y.prototype.getTransactionReceipt=ne("eth_getTransactionReceipt");Y.prototype.getUncleByBlockHashAndIndex=ne("eth_getUncleByBlockHashAndIndex");Y.prototype.getUncleByBlockNumberAndIndex=ne("eth_getUncleByBlockNumberAndIndex");Y.prototype.getCompilers=ne("eth_getCompilers");Y.prototype.compileLLL=ne("eth_compileLLL");Y.prototype.compileSolidity=ne("eth_compileSolidity");Y.prototype.compileSerpent=ne("eth_compileSerpent");Y.prototype.newFilter=ne("eth_newFilter");Y.prototype.newBlockFilter=ne("eth_newBlockFilter");Y.prototype.newPendingTransactionFilter=ne("eth_newPendingTransactionFilter");Y.prototype.uninstallFilter=ne("eth_uninstallFilter");Y.prototype.getFilterChanges=ne("eth_getFilterChanges");Y.prototype.getFilterLogs=ne("eth_getFilterLogs");Y.prototype.getLogs=ne("eth_getLogs");Y.prototype.getWork=ne("eth_getWork");Y.prototype.submitWork=ne("eth_submitWork");Y.prototype.submitHashrate=ne("eth_submitHashrate");Y.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(Zy(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function ne(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function An(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function Zy(t){return qy({id:Gy(),jsonrpc:"2.0",params:[]},t)}var If={},Rf={},Ky=Ll,Bi=function(){return Ky()&&!!Symbol.toStringTag},Yy=Bi(),Jy=Oi,va=Jy("Object.prototype.toString"),Fi=function(e){return Yy&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:va(e)==="[object Arguments]"},Tf=function(e){return Fi(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&va(e)!=="[object Array]"&&va(e.callee)==="[object Function]"},Xy=function(){return Fi(arguments)}();Fi.isLegacyArguments=Tf;var eg=Xy?Fi:Tf,tg=Object.prototype.toString,rg=Function.prototype.toString,ng=/^\s*(?:function)?\*/,Of=Bi(),Fo=Object.getPrototypeOf,ig=function(){if(!Of)return!1;try{return Function("return function*() {}")()}catch{}},$o,sg=function(e){if(typeof e!="function")return!1;if(ng.test(rg.call(e)))return!0;if(!Of){var r=tg.call(e);return r==="[object GeneratorFunction]"}if(!Fo)return!1;if(typeof $o>"u"){var n=ig();$o=n?Fo(n):!1}return Fo(e)===$o},Nf=Function.prototype.toString,gr=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,_a,Yn;if(typeof gr=="function"&&typeof Object.defineProperty=="function")try{_a=Object.defineProperty({},"length",{get:function(){throw Yn}}),Yn={},gr(function(){throw 42},null,_a)}catch(t){t!==Yn&&(gr=null)}else gr=null;var og=/^\s*class\b/,ma=function(e){try{var r=Nf.call(e);return og.test(r)}catch{return!1}},Wo=function(e){try{return ma(e)?!1:(Nf.call(e),!0)}catch{return!1}},Jn=Object.prototype.toString,ag="[object Object]",cg="[object Function]",ug="[object GeneratorFunction]",lg="[object HTMLAllCollection]",fg="[object HTML document.all class]",hg="[object HTMLCollection]",dg=typeof Symbol=="function"&&!!Symbol.toStringTag,pg=!(0 in[,]),wa=function(){return!1};if(typeof document=="object"){var bg=document.all;Jn.call(bg)===Jn.call(document.all)&&(wa=function(e){if((pg||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=Jn.call(e);return(r===lg||r===fg||r===hg||r===ag)&&e("")==null}catch{}return!1})}var yg=gr?function(e){if(wa(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{gr(e,null,_a)}catch(r){if(r!==Yn)return!1}return!ma(e)&&Wo(e)}:function(e){if(wa(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(dg)return Wo(e);if(ma(e))return!1;var r=Jn.call(e);return r!==cg&&r!==ug&&!/^\[object HTML/.test(r)?!1:Wo(e)},gg=yg,vg=Object.prototype.toString,Pf=Object.prototype.hasOwnProperty,_g=function(e,r,n){for(var i=0,s=e.length;i<s;i++)Pf.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},mg=function(e,r,n){for(var i=0,s=e.length;i<s;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},wg=function(e,r,n){for(var i in e)Pf.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},Sg=function(e,r,n){if(!gg(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),vg.call(e)==="[object Array]"?_g(e,r,i):typeof e=="string"?mg(e,r,i):wg(e,r,i)},Lf=Sg,Uo=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],Eg=globalThis,Df=function(){for(var e=[],r=0;r<Uo.length;r++)typeof Eg[Uo[r]]=="function"&&(e[e.length]=Uo[r]);return e},xg=Ti,Xn=xg("%Object.getOwnPropertyDescriptor%",!0);if(Xn)try{Xn([],"length")}catch{Xn=null}var jf=Xn,Bf=Lf,Cg=Df,qa=Oi,kg=qa("Object.prototype.toString"),Ff=Bi(),ei=jf,Ag=globalThis,$f=Cg(),Mg=qa("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},Ig=qa("String.prototype.slice"),Wf={},Ho=Object.getPrototypeOf;Ff&&ei&&Ho&&Bf($f,function(t){var e=new Ag[t];if(Symbol.toStringTag in e){var r=Ho(e),n=ei(r,Symbol.toStringTag);if(!n){var i=Ho(r);n=ei(i,Symbol.toStringTag)}Wf[t]=n.get}});var Rg=function(e){var r=!1;return Bf(Wf,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r},Uf=function(e){if(!e||typeof e!="object")return!1;if(!Ff||!(Symbol.toStringTag in e)){var r=Ig(kg(e),8,-1);return Mg($f,r)>-1}return ei?Rg(e):!1},Hf=Lf,Tg=Df,Vf=Oi,Vo=jf,Og=Vf("Object.prototype.toString"),zf=Bi(),Su=globalThis,Ng=Tg(),Pg=Vf("String.prototype.slice"),qf={},zo=Object.getPrototypeOf;zf&&Vo&&zo&&Hf(Ng,function(t){if(typeof Su[t]=="function"){var e=new Su[t];if(Symbol.toStringTag in e){var r=zo(e),n=Vo(r,Symbol.toStringTag);if(!n){var i=zo(r);n=Vo(i,Symbol.toStringTag)}qf[t]=n.get}}});var Lg=function(e){var r=!1;return Hf(qf,function(n,i){if(!r)try{var s=n.call(e);s===i&&(r=s)}catch{}}),r},Dg=Uf,jg=function(e){return Dg(e)?!zf||!(Symbol.toStringTag in e)?Pg(Og(e),8,-1):Lg(e):!1};(function(t){var e=eg,r=sg,n=jg,i=Uf;function s(N){return N.call.bind(N)}var o=typeof BigInt<"u",a=typeof Symbol<"u",c=s(Object.prototype.toString),u=s(Number.prototype.valueOf),l=s(String.prototype.valueOf),g=s(Boolean.prototype.valueOf);if(o)var f=s(BigInt.prototype.valueOf);if(a)var b=s(Symbol.prototype.valueOf);function m(N,Ht){if(typeof N!="object")return!1;try{return Ht(N),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function A(N){return typeof Promise<"u"&&N instanceof Promise||N!==null&&typeof N=="object"&&typeof N.then=="function"&&typeof N.catch=="function"}t.isPromise=A;function R(N){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(N):i(N)||S(N)}t.isArrayBufferView=R;function p(N){return n(N)==="Uint8Array"}t.isUint8Array=p;function w(N){return n(N)==="Uint8ClampedArray"}t.isUint8ClampedArray=w;function E(N){return n(N)==="Uint16Array"}t.isUint16Array=E;function T(N){return n(N)==="Uint32Array"}t.isUint32Array=T;function B(N){return n(N)==="Int8Array"}t.isInt8Array=B;function z(N){return n(N)==="Int16Array"}t.isInt16Array=z;function q(N){return n(N)==="Int32Array"}t.isInt32Array=q;function U(N){return n(N)==="Float32Array"}t.isFloat32Array=U;function W(N){return n(N)==="Float64Array"}t.isFloat64Array=W;function oe(N){return n(N)==="BigInt64Array"}t.isBigInt64Array=oe;function ie(N){return n(N)==="BigUint64Array"}t.isBigUint64Array=ie;function K(N){return c(N)==="[object Map]"}K.working=typeof Map<"u"&&K(new Map);function J(N){return typeof Map>"u"?!1:K.working?K(N):N instanceof Map}t.isMap=J;function H(N){return c(N)==="[object Set]"}H.working=typeof Set<"u"&&H(new Set);function se(N){return typeof Set>"u"?!1:H.working?H(N):N instanceof Set}t.isSet=se;function de(N){return c(N)==="[object WeakMap]"}de.working=typeof WeakMap<"u"&&de(new WeakMap);function x(N){return typeof WeakMap>"u"?!1:de.working?de(N):N instanceof WeakMap}t.isWeakMap=x;function C(N){return c(N)==="[object WeakSet]"}C.working=typeof WeakSet<"u"&&C(new WeakSet);function M(N){return C(N)}t.isWeakSet=M;function P(N){return c(N)==="[object ArrayBuffer]"}P.working=typeof ArrayBuffer<"u"&&P(new ArrayBuffer);function j(N){return typeof ArrayBuffer>"u"?!1:P.working?P(N):N instanceof ArrayBuffer}t.isArrayBuffer=j;function v(N){return c(N)==="[object DataView]"}v.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&v(new DataView(new ArrayBuffer(1),0,1));function S(N){return typeof DataView>"u"?!1:v.working?v(N):N instanceof DataView}t.isDataView=S;var I=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function V(N){return c(N)==="[object SharedArrayBuffer]"}function y(N){return typeof I>"u"?!1:(typeof V.working>"u"&&(V.working=V(new I)),V.working?V(N):N instanceof I)}t.isSharedArrayBuffer=y;function _(N){return c(N)==="[object AsyncFunction]"}t.isAsyncFunction=_;function k(N){return c(N)==="[object Map Iterator]"}t.isMapIterator=k;function L(N){return c(N)==="[object Set Iterator]"}t.isSetIterator=L;function $(N){return c(N)==="[object Generator]"}t.isGeneratorObject=$;function h(N){return c(N)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=h;function d(N){return m(N,u)}t.isNumberObject=d;function O(N){return m(N,l)}t.isStringObject=O;function F(N){return m(N,g)}t.isBooleanObject=F;function fe(N){return o&&m(N,f)}t.isBigIntObject=fe;function ee(N){return a&&m(N,b)}t.isSymbolObject=ee;function le(N){return d(N)||O(N)||F(N)||fe(N)||ee(N)}t.isBoxedPrimitive=le;function et(N){return typeof Uint8Array<"u"&&(j(N)||y(N))}t.isAnyArrayBuffer=et,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(N){Object.defineProperty(t,N,{enumerable:!1,value:function(){throw new Error(N+" is not supported in userland")}})})})(Rf);var Bg=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(t){var e=Object.getOwnPropertyDescriptors||function(S){for(var I=Object.keys(S),V={},y=0;y<I.length;y++)V[I[y]]=Object.getOwnPropertyDescriptor(S,I[y]);return V},r=/%[sdj%]/g;t.format=function(v){if(!B(v)){for(var S=[],I=0;I<arguments.length;I++)S.push(o(arguments[I]));return S.join(" ")}for(var I=1,V=arguments,y=V.length,_=String(v).replace(r,function(L){if(L==="%%")return"%";if(I>=y)return L;switch(L){case"%s":return String(V[I++]);case"%d":return Number(V[I++]);case"%j":try{return JSON.stringify(V[I++])}catch{return"[Circular]"}default:return L}}),k=V[I];I<y;k=V[++I])w(k)||!W(k)?_+=" "+k:_+=" "+o(k);return _},t.deprecate=function(v,S){if(typeof process<"u"&&process.noDeprecation===!0)return v;if(typeof process>"u")return function(){return t.deprecate(v,S).apply(this,arguments)};var I=!1;function V(){if(!I){if(process.throwDeprecation)throw new Error(S);process.traceDeprecation?console.trace(S):console.error(S),I=!0}return v.apply(this,arguments)}return V};var n={},i=/^$/;if({}.NODE_DEBUG){var s={}.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(v){if(v=v.toUpperCase(),!n[v])if(i.test(v)){var S=process.pid;n[v]=function(){var I=t.format.apply(t,arguments);console.error("%s %d: %s",v,S,I)}}else n[v]=function(){};return n[v]};function o(v,S){var I={seen:[],stylize:c};return arguments.length>=3&&(I.depth=arguments[2]),arguments.length>=4&&(I.colors=arguments[3]),p(S)?I.showHidden=S:S&&t._extend(I,S),q(I.showHidden)&&(I.showHidden=!1),q(I.depth)&&(I.depth=2),q(I.colors)&&(I.colors=!1),q(I.customInspect)&&(I.customInspect=!0),I.colors&&(I.stylize=a),l(I,v,I.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(v,S){var I=o.styles[S];return I?"\x1B["+o.colors[I][0]+"m"+v+"\x1B["+o.colors[I][1]+"m":v}function c(v,S){return v}function u(v){var S={};return v.forEach(function(I,V){S[I]=!0}),S}function l(v,S,I){if(v.customInspect&&S&&K(S.inspect)&&S.inspect!==t.inspect&&!(S.constructor&&S.constructor.prototype===S)){var V=S.inspect(I,v);return B(V)||(V=l(v,V,I)),V}var y=g(v,S);if(y)return y;var _=Object.keys(S),k=u(_);if(v.showHidden&&(_=Object.getOwnPropertyNames(S)),ie(S)&&(_.indexOf("message")>=0||_.indexOf("description")>=0))return f(S);if(_.length===0){if(K(S)){var L=S.name?": "+S.name:"";return v.stylize("[Function"+L+"]","special")}if(U(S))return v.stylize(RegExp.prototype.toString.call(S),"regexp");if(oe(S))return v.stylize(Date.prototype.toString.call(S),"date");if(ie(S))return f(S)}var $="",h=!1,d=["{","}"];if(R(S)&&(h=!0,d=["[","]"]),K(S)){var O=S.name?": "+S.name:"";$=" [Function"+O+"]"}if(U(S)&&($=" "+RegExp.prototype.toString.call(S)),oe(S)&&($=" "+Date.prototype.toUTCString.call(S)),ie(S)&&($=" "+f(S)),_.length===0&&(!h||S.length==0))return d[0]+$+d[1];if(I<0)return U(S)?v.stylize(RegExp.prototype.toString.call(S),"regexp"):v.stylize("[Object]","special");v.seen.push(S);var F;return h?F=b(v,S,I,k,_):F=_.map(function(fe){return m(v,S,I,k,fe,h)}),v.seen.pop(),A(F,$,d)}function g(v,S){if(q(S))return v.stylize("undefined","undefined");if(B(S)){var I="'"+JSON.stringify(S).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return v.stylize(I,"string")}if(T(S))return v.stylize(""+S,"number");if(p(S))return v.stylize(""+S,"boolean");if(w(S))return v.stylize("null","null")}function f(v){return"["+Error.prototype.toString.call(v)+"]"}function b(v,S,I,V,y){for(var _=[],k=0,L=S.length;k<L;++k)C(S,String(k))?_.push(m(v,S,I,V,String(k),!0)):_.push("");return y.forEach(function($){$.match(/^\d+$/)||_.push(m(v,S,I,V,$,!0))}),_}function m(v,S,I,V,y,_){var k,L,$;if($=Object.getOwnPropertyDescriptor(S,y)||{value:S[y]},$.get?$.set?L=v.stylize("[Getter/Setter]","special"):L=v.stylize("[Getter]","special"):$.set&&(L=v.stylize("[Setter]","special")),C(V,y)||(k="["+y+"]"),L||(v.seen.indexOf($.value)<0?(w(I)?L=l(v,$.value,null):L=l(v,$.value,I-1),L.indexOf(`
`)>-1&&(_?L=L.split(`
`).map(function(h){return"  "+h}).join(`
`).slice(2):L=`
`+L.split(`
`).map(function(h){return"   "+h}).join(`
`))):L=v.stylize("[Circular]","special")),q(k)){if(_&&y.match(/^\d+$/))return L;k=JSON.stringify(""+y),k.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(k=k.slice(1,-1),k=v.stylize(k,"name")):(k=k.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),k=v.stylize(k,"string"))}return k+": "+L}function A(v,S,I){var V=v.reduce(function(y,_){return _.indexOf(`
`)>=0,y+_.replace(/\u001b\[\d\d?m/g,"").length+1},0);return V>60?I[0]+(S===""?"":S+`
 `)+" "+v.join(`,
  `)+" "+I[1]:I[0]+S+" "+v.join(", ")+" "+I[1]}t.types=Rf;function R(v){return Array.isArray(v)}t.isArray=R;function p(v){return typeof v=="boolean"}t.isBoolean=p;function w(v){return v===null}t.isNull=w;function E(v){return v==null}t.isNullOrUndefined=E;function T(v){return typeof v=="number"}t.isNumber=T;function B(v){return typeof v=="string"}t.isString=B;function z(v){return typeof v=="symbol"}t.isSymbol=z;function q(v){return v===void 0}t.isUndefined=q;function U(v){return W(v)&&H(v)==="[object RegExp]"}t.isRegExp=U,t.types.isRegExp=U;function W(v){return typeof v=="object"&&v!==null}t.isObject=W;function oe(v){return W(v)&&H(v)==="[object Date]"}t.isDate=oe,t.types.isDate=oe;function ie(v){return W(v)&&(H(v)==="[object Error]"||v instanceof Error)}t.isError=ie,t.types.isNativeError=ie;function K(v){return typeof v=="function"}t.isFunction=K;function J(v){return v===null||typeof v=="boolean"||typeof v=="number"||typeof v=="string"||typeof v=="symbol"||typeof v>"u"}t.isPrimitive=J,t.isBuffer=Bg;function H(v){return Object.prototype.toString.call(v)}function se(v){return v<10?"0"+v.toString(10):v.toString(10)}var de=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(){var v=new Date,S=[se(v.getHours()),se(v.getMinutes()),se(v.getSeconds())].join(":");return[v.getDate(),de[v.getMonth()],S].join(" ")}t.log=function(){console.log("%s - %s",x(),t.format.apply(t,arguments))},t.inherits=Ye.exports,t._extend=function(v,S){if(!S||!W(S))return v;for(var I=Object.keys(S),V=I.length;V--;)v[I[V]]=S[I[V]];return v};function C(v,S){return Object.prototype.hasOwnProperty.call(v,S)}var M=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(S){if(typeof S!="function")throw new TypeError('The "original" argument must be of type Function');if(M&&S[M]){var I=S[M];if(typeof I!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(I,M,{value:I,enumerable:!1,writable:!1,configurable:!0}),I}function I(){for(var V,y,_=new Promise(function($,h){V=$,y=h}),k=[],L=0;L<arguments.length;L++)k.push(arguments[L]);k.push(function($,h){$?y($):V(h)});try{S.apply(this,k)}catch($){y($)}return _}return Object.setPrototypeOf(I,Object.getPrototypeOf(S)),M&&Object.defineProperty(I,M,{value:I,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(I,e(S))},t.promisify.custom=M;function P(v,S){if(!v){var I=new Error("Promise was rejected with a falsy value");I.reason=v,v=I}return S(v)}function j(v){if(typeof v!="function")throw new TypeError('The "original" argument must be of type Function');function S(){for(var I=[],V=0;V<arguments.length;V++)I.push(arguments[V]);var y=I.pop();if(typeof y!="function")throw new TypeError("The last argument must be of type Function");var _=this,k=function(){return y.apply(_,arguments)};v.apply(this,I).then(function(L){process.nextTick(k.bind(null,null,L))},function(L){process.nextTick(P.bind(null,L,k))})}return Object.setPrototypeOf(S,Object.getPrototypeOf(v)),Object.defineProperties(S,e(v)),S}t.callbackify=j})(If);const Fg=If,Gf=Ei.exports;var qo=typeof Reflect=="object"?Reflect:null,$g=qo&&typeof qo.apply=="function"?qo.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Wg=Ga;function Ga(){Gf.call(this)}Fg.inherits(Ga,Gf);Ga.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[t];if(a===void 0)return!1;if(typeof a=="function")Eu(a,this,e);else for(var c=a.length,u=Ug(a,c),r=0;r<c;++r)Eu(u[r],this,e);return!0};function Eu(t,e,r){try{$g(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Ug(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}const Hg=Wg,Vg=1e3,zg=(t,e)=>t+e,xu=["sync","latest"];class qg extends Hg{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||20*Vg,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,r){!xu.includes(e)||this._maybeStart()}_onRemoveListener(e,r){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return xu.map(e=>this.listenerCount(e)).reduce(zg)}_newPotentialLatest(e){const r=this._currentBlock;r&&Cu(e)<=Cu(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}var Gg=qg;function Cu(t){return Number.parseInt(t,16)}const Qg=$y,Zg=Gg,Kg=1e3;class Yg extends Zg{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const r=e.pollingInterval||20*Kg,n=e.retryTimeout||r/10,i=e.keepEventLoopActive!==void 0?e.keepEventLoopActive:!0,s=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:r},e)),this._provider=e.provider,this._pollingInterval=r,this._retryTimeout=n,this._keepEventLoopActive=i,this._setSkipCacheFlag=s}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await ku(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${e.stack}`);try{this.emit("error",r)}catch{console.error(r)}await ku(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const r=await Qg(n=>this._provider.sendAsync(e,n))();if(r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error}`);return r.result}}var Jg=Yg;function ku(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Qa={},$i={},Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.getUniqueId=void 0;const Qf=4294967295;let Go=Math.floor(Math.random()*Qf);function Xg(){return Go=(Go+1)%Qf,Go}Mn.getUniqueId=Xg;Object.defineProperty($i,"__esModule",{value:!0});$i.createIdRemapMiddleware=void 0;const ev=Mn;function tv(){return(t,e,r,n)=>{const i=t.id,s=ev.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}$i.createIdRemapMiddleware=tv;var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.createAsyncMiddleware=void 0;function rv(t){return async(e,r,n,i)=>{let s;const o=new Promise(l=>{s=l});let a=null,c=!1;const u=async()=>{c=!0,n(l=>{a=l,s()}),await o};try{await t(e,r,u),c?(await o,a(null)):i(null)}catch(l){a?a(l):i(l)}}}Wi.createAsyncMiddleware=rv;var Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.createScaffoldMiddleware=void 0;function nv(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}Ui.createScaffoldMiddleware=nv;var In={},Zf={},Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.EthereumProviderError=Dt.EthereumRpcError=void 0;const iv=_l;class Kf extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return iv.default(this.serialize(),av,2)}}Dt.EthereumRpcError=Kf;class sv extends Kf{constructor(e,r,n){if(!ov(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Dt.EthereumProviderError=sv;function ov(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function av(t,e){if(e!=="[Circular]")return e}var Za={},jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.errorValues=jt.errorCodes=void 0;jt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};jt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=jt,r=Dt,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(f,b=i){if(Number.isInteger(f)){const m=f.toString();if(g(e.errorValues,m))return e.errorValues[m].message;if(u(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return b}t.getMessageFromCode=o;function a(f){if(!Number.isInteger(f))return!1;const b=f.toString();return!!(e.errorValues[b]||u(f))}t.isValidCode=a;function c(f,{fallbackError:b=s,shouldIncludeStack:m=!1}={}){var A,R;if(!b||!Number.isInteger(b.code)||typeof b.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof r.EthereumRpcError)return f.serialize();const p={};if(f&&typeof f=="object"&&!Array.isArray(f)&&g(f,"code")&&a(f.code)){const E=f;p.code=E.code,E.message&&typeof E.message=="string"?(p.message=E.message,g(E,"data")&&(p.data=E.data)):(p.message=o(p.code),p.data={originalError:l(f)})}else{p.code=b.code;const E=(A=f)===null||A===void 0?void 0:A.message;p.message=E&&typeof E=="string"?E:b.message,p.data={originalError:l(f)}}const w=(R=f)===null||R===void 0?void 0:R.stack;return m&&f&&w&&typeof w=="string"&&(p.stack=w),p}t.serializeError=c;function u(f){return f>=-32099&&f<=-32e3}function l(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function g(f,b){return Object.prototype.hasOwnProperty.call(f,b)}})(Za);var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.ethErrors=void 0;const Ka=Dt,Yf=Za,Oe=jt;Hi.ethErrors={rpc:{parse:t=>ze(Oe.errorCodes.rpc.parse,t),invalidRequest:t=>ze(Oe.errorCodes.rpc.invalidRequest,t),invalidParams:t=>ze(Oe.errorCodes.rpc.invalidParams,t),methodNotFound:t=>ze(Oe.errorCodes.rpc.methodNotFound,t),internal:t=>ze(Oe.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ze(e,t)},invalidInput:t=>ze(Oe.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>ze(Oe.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>ze(Oe.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>ze(Oe.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>ze(Oe.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>ze(Oe.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Jr(Oe.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Jr(Oe.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Jr(Oe.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Jr(Oe.errorCodes.provider.disconnected,t),chainDisconnected:t=>Jr(Oe.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Ka.EthereumProviderError(e,r,n)}}};function ze(t,e){const[r,n]=Jf(e);return new Ka.EthereumRpcError(t,r||Yf.getMessageFromCode(t),n)}function Jr(t,e){const[r,n]=Jf(e);return new Ka.EthereumProviderError(t,r||Yf.getMessageFromCode(t),n)}function Jf(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Dt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Za;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Hi;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=jt;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Zf);var cv=ue&&ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(In,"__esModule",{value:!0});In.JsonRpcEngine=void 0;const uv=cv(Br),qe=Zf;class vt extends uv.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await vt._runAllMiddleware(e,r,this._middleware);return o?(await vt._runReturnHandlers(a),i(s)):n(async c=>{try{await vt._runReturnHandlers(a)}catch(u){return c(u)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new qe.EthereumRpcError(qe.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new qe.EthereumRpcError(qe.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=qe.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await vt._runAllMiddleware(e,r,this._middleware);if(vt._checkForCompletion(e,r,i),await vt._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await vt._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const u=c||r.error;u&&(r.error=qe.serializeError(u)),s([u,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new qe.EthereumRpcError(qe.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${Qo(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new qe.EthereumRpcError(qe.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Qo(e)}`,{request:e});if(!n)throw new qe.EthereumRpcError(qe.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Qo(e)}`,{request:e})}}In.JsonRpcEngine=vt;function Qo(t){return JSON.stringify(t,null,2)}var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.mergeMiddleware=void 0;const lv=In;function fv(t){const e=new lv.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}Vi.mergeMiddleware=fv;(function(t){var e=ue&&ue.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=ue&&ue.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r($i,t),r(Wi,t),r(Ui,t),r(Mn,t),r(In,t),r(Vi,t)})(Qa);var Xf={},Ya={},zi={exports:{}};(function(t){var e,r,n,i,s,o,a,c,u,l,g,f,b,m,A,R,p,w,E,T,B,z,q,U,W,oe,ie,K,J;(function(H){var se=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};H(de(se,de(t.exports)));function de(x,C){return x!==se&&(typeof Object.create=="function"?Object.defineProperty(x,"__esModule",{value:!0}):x.__esModule=!0),function(M,P){return x[M]=C?C(M,P):P}}})(function(H){var se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,C){x.__proto__=C}||function(x,C){for(var M in C)Object.prototype.hasOwnProperty.call(C,M)&&(x[M]=C[M])};e=function(x,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");se(x,C);function M(){this.constructor=x}x.prototype=C===null?Object.create(C):(M.prototype=C.prototype,new M)},r=Object.assign||function(x){for(var C,M=1,P=arguments.length;M<P;M++){C=arguments[M];for(var j in C)Object.prototype.hasOwnProperty.call(C,j)&&(x[j]=C[j])}return x},n=function(x,C){var M={};for(var P in x)Object.prototype.hasOwnProperty.call(x,P)&&C.indexOf(P)<0&&(M[P]=x[P]);if(x!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,P=Object.getOwnPropertySymbols(x);j<P.length;j++)C.indexOf(P[j])<0&&Object.prototype.propertyIsEnumerable.call(x,P[j])&&(M[P[j]]=x[P[j]]);return M},i=function(x,C,M,P){var j=arguments.length,v=j<3?C:P===null?P=Object.getOwnPropertyDescriptor(C,M):P,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(x,C,M,P);else for(var I=x.length-1;I>=0;I--)(S=x[I])&&(v=(j<3?S(v):j>3?S(C,M,v):S(C,M))||v);return j>3&&v&&Object.defineProperty(C,M,v),v},s=function(x,C){return function(M,P){C(M,P,x)}},o=function(x,C,M,P,j,v){function S(F){if(F!==void 0&&typeof F!="function")throw new TypeError("Function expected");return F}for(var I=P.kind,V=I==="getter"?"get":I==="setter"?"set":"value",y=!C&&x?P.static?x:x.prototype:null,_=C||(y?Object.getOwnPropertyDescriptor(y,P.name):{}),k,L=!1,$=M.length-1;$>=0;$--){var h={};for(var d in P)h[d]=d==="access"?{}:P[d];for(var d in P.access)h.access[d]=P.access[d];h.addInitializer=function(F){if(L)throw new TypeError("Cannot add initializers after decoration has completed");v.push(S(F||null))};var O=(0,M[$])(I==="accessor"?{get:_.get,set:_.set}:_[V],h);if(I==="accessor"){if(O===void 0)continue;if(O===null||typeof O!="object")throw new TypeError("Object expected");(k=S(O.get))&&(_.get=k),(k=S(O.set))&&(_.set=k),(k=S(O.init))&&j.push(k)}else(k=S(O))&&(I==="field"?j.push(k):_[V]=k)}y&&Object.defineProperty(y,P.name,_),L=!0},a=function(x,C,M){for(var P=arguments.length>2,j=0;j<C.length;j++)M=P?C[j].call(x,M):C[j].call(x);return P?M:void 0},c=function(x){return typeof x=="symbol"?x:"".concat(x)},u=function(x,C,M){return typeof C=="symbol"&&(C=C.description?"[".concat(C.description,"]"):""),Object.defineProperty(x,"name",{configurable:!0,value:M?"".concat(M," ",C):C})},l=function(x,C){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(x,C)},g=function(x,C,M,P){function j(v){return v instanceof M?v:new M(function(S){S(v)})}return new(M||(M=Promise))(function(v,S){function I(_){try{y(P.next(_))}catch(k){S(k)}}function V(_){try{y(P.throw(_))}catch(k){S(k)}}function y(_){_.done?v(_.value):j(_.value).then(I,V)}y((P=P.apply(x,C||[])).next())})},f=function(x,C){var M={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},P,j,v,S;return S={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function I(y){return function(_){return V([y,_])}}function V(y){if(P)throw new TypeError("Generator is already executing.");for(;S&&(S=0,y[0]&&(M=0)),M;)try{if(P=1,j&&(v=y[0]&2?j.return:y[0]?j.throw||((v=j.return)&&v.call(j),0):j.next)&&!(v=v.call(j,y[1])).done)return v;switch(j=0,v&&(y=[y[0]&2,v.value]),y[0]){case 0:case 1:v=y;break;case 4:return M.label++,{value:y[1],done:!1};case 5:M.label++,j=y[1],y=[0];continue;case 7:y=M.ops.pop(),M.trys.pop();continue;default:if(v=M.trys,!(v=v.length>0&&v[v.length-1])&&(y[0]===6||y[0]===2)){M=0;continue}if(y[0]===3&&(!v||y[1]>v[0]&&y[1]<v[3])){M.label=y[1];break}if(y[0]===6&&M.label<v[1]){M.label=v[1],v=y;break}if(v&&M.label<v[2]){M.label=v[2],M.ops.push(y);break}v[2]&&M.ops.pop(),M.trys.pop();continue}y=C.call(x,M)}catch(_){y=[6,_],j=0}finally{P=v=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},b=function(x,C){for(var M in x)M!=="default"&&!Object.prototype.hasOwnProperty.call(C,M)&&J(C,x,M)},J=Object.create?function(x,C,M,P){P===void 0&&(P=M);var j=Object.getOwnPropertyDescriptor(C,M);(!j||("get"in j?!C.__esModule:j.writable||j.configurable))&&(j={enumerable:!0,get:function(){return C[M]}}),Object.defineProperty(x,P,j)}:function(x,C,M,P){P===void 0&&(P=M),x[P]=C[M]},m=function(x){var C=typeof Symbol=="function"&&Symbol.iterator,M=C&&x[C],P=0;if(M)return M.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&P>=x.length&&(x=void 0),{value:x&&x[P++],done:!x}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")},A=function(x,C){var M=typeof Symbol=="function"&&x[Symbol.iterator];if(!M)return x;var P=M.call(x),j,v=[],S;try{for(;(C===void 0||C-- >0)&&!(j=P.next()).done;)v.push(j.value)}catch(I){S={error:I}}finally{try{j&&!j.done&&(M=P.return)&&M.call(P)}finally{if(S)throw S.error}}return v},R=function(){for(var x=[],C=0;C<arguments.length;C++)x=x.concat(A(arguments[C]));return x},p=function(){for(var x=0,C=0,M=arguments.length;C<M;C++)x+=arguments[C].length;for(var P=Array(x),j=0,C=0;C<M;C++)for(var v=arguments[C],S=0,I=v.length;S<I;S++,j++)P[j]=v[S];return P},w=function(x,C,M){if(M||arguments.length===2)for(var P=0,j=C.length,v;P<j;P++)(v||!(P in C))&&(v||(v=Array.prototype.slice.call(C,0,P)),v[P]=C[P]);return x.concat(v||Array.prototype.slice.call(C))},E=function(x){return this instanceof E?(this.v=x,this):new E(x)},T=function(x,C,M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var P=M.apply(x,C||[]),j,v=[];return j={},S("next"),S("throw"),S("return"),j[Symbol.asyncIterator]=function(){return this},j;function S(L){P[L]&&(j[L]=function($){return new Promise(function(h,d){v.push([L,$,h,d])>1||I(L,$)})})}function I(L,$){try{V(P[L]($))}catch(h){k(v[0][3],h)}}function V(L){L.value instanceof E?Promise.resolve(L.value.v).then(y,_):k(v[0][2],L)}function y(L){I("next",L)}function _(L){I("throw",L)}function k(L,$){L($),v.shift(),v.length&&I(v[0][0],v[0][1])}},B=function(x){var C,M;return C={},P("next"),P("throw",function(j){throw j}),P("return"),C[Symbol.iterator]=function(){return this},C;function P(j,v){C[j]=x[j]?function(S){return(M=!M)?{value:E(x[j](S)),done:!1}:v?v(S):S}:v}},z=function(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C=x[Symbol.asyncIterator],M;return C?C.call(x):(x=typeof m=="function"?m(x):x[Symbol.iterator](),M={},P("next"),P("throw"),P("return"),M[Symbol.asyncIterator]=function(){return this},M);function P(v){M[v]=x[v]&&function(S){return new Promise(function(I,V){S=x[v](S),j(I,V,S.done,S.value)})}}function j(v,S,I,V){Promise.resolve(V).then(function(y){v({value:y,done:I})},S)}},q=function(x,C){return Object.defineProperty?Object.defineProperty(x,"raw",{value:C}):x.raw=C,x};var de=Object.create?function(x,C){Object.defineProperty(x,"default",{enumerable:!0,value:C})}:function(x,C){x.default=C};U=function(x){if(x&&x.__esModule)return x;var C={};if(x!=null)for(var M in x)M!=="default"&&Object.prototype.hasOwnProperty.call(x,M)&&J(C,x,M);return de(C,x),C},W=function(x){return x&&x.__esModule?x:{default:x}},oe=function(x,C,M,P){if(M==="a"&&!P)throw new TypeError("Private accessor was defined without a getter");if(typeof C=="function"?x!==C||!P:!C.has(x))throw new TypeError("Cannot read private member from an object whose class did not declare it");return M==="m"?P:M==="a"?P.call(x):P?P.value:C.get(x)},ie=function(x,C,M,P,j){if(P==="m")throw new TypeError("Private method is not writable");if(P==="a"&&!j)throw new TypeError("Private accessor was defined without a setter");if(typeof C=="function"?x!==C||!j:!C.has(x))throw new TypeError("Cannot write private member to an object whose class did not declare it");return P==="a"?j.call(x,M):j?j.value=M:C.set(x,M),M},K=function(x,C){if(C===null||typeof C!="object"&&typeof C!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof x=="function"?C===x:x.has(C)},H("__extends",e),H("__assign",r),H("__rest",n),H("__decorate",i),H("__param",s),H("__esDecorate",o),H("__runInitializers",a),H("__propKey",c),H("__setFunctionName",u),H("__metadata",l),H("__awaiter",g),H("__generator",f),H("__exportStar",b),H("__createBinding",J),H("__values",m),H("__read",A),H("__spread",R),H("__spreadArrays",p),H("__spreadArray",w),H("__await",E),H("__asyncGenerator",T),H("__asyncDelegator",B),H("__asyncValues",z),H("__makeTemplateObject",q),H("__importStar",U),H("__importDefault",W),H("__classPrivateFieldGet",oe),H("__classPrivateFieldSet",ie),H("__classPrivateFieldIn",K)})})(zi);var qi={};Object.defineProperty(qi,"__esModule",{value:!0});var Au=zi.exports,hv=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Au.__awaiter(this,void 0,void 0,function(){var r,n,i;return Au.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(!!r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();qi.default=hv;Object.defineProperty(Ya,"__esModule",{value:!0});var Mu=zi.exports,dv=qi,pv=function(){function t(){this._semaphore=new dv.default(1)}return t.prototype.acquire=function(){return Mu.__awaiter(this,void 0,void 0,function(){var e,r;return Mu.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();Ya.default=pv;var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.withTimeout=void 0;var Vn=zi.exports;function bv(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Vn.__awaiter(n,void 0,void 0,function(){var o,a,c;return Vn.__generator(this,function(u){switch(u.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=u.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return Vn.__awaiter(this,void 0,void 0,function(){var s,o;return Vn.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Gi.withTimeout=bv;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Ya;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=qi;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Gi;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(Xf);const Iu=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...u)=>{e.errorFirst?u[0]?a(u):(u.shift(),o(u)):o(u)}):e.errorFirst?i.push((u,l)=>{u?a(u):o(l)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},Ru=new WeakMap;var yv=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let c=Ru.get(o);if(c||(c={},Ru.set(o,c)),a in c)return c[a];const u=m=>typeof m=="string"||typeof a=="symbol"?a===m:m.test(a),l=Reflect.getOwnPropertyDescriptor(o,a),g=l===void 0||l.writable||l.configurable,b=(e.include?e.include.some(u):!e.exclude.some(u))&&g;return c[a]=b,b},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const u=i.get(o);if(u)return Reflect.apply(u,a,c);const l=e.excludeMain?o:Iu(o,e,s,o);return i.set(o,l),Reflect.apply(l,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const u=i.get(c);if(u)return u;if(typeof c=="function"){const l=Iu(c,e,s,o);return i.set(c,l),l}return c}});return s};const gv=Br.default;class vv extends gv{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}var Ja=vv;const _v=Ja;class mv extends _v{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}var wv=mv,Rn={minBlockRef:Sv,maxBlockRef:Ev,sortBlockRefs:Xa,bnToHex:xv,blockRefIsNumber:Cv,hexToInt:hi,incrementHexInt:kv,intToHex:eh,unsafeRandomBytes:Av};function Sv(...t){return Xa(t)[0]}function Ev(...t){const e=Xa(t);return e[e.length-1]}function Xa(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:hi(e)-hi(r))}function xv(t){return"0x"+t.toString(16)}function Cv(t){return t&&!["earliest","latest","pending"].includes(t)}function hi(t){return t==null?t:Number.parseInt(t,16)}function kv(t){if(t==null)return t;const e=hi(t);return eh(e+1)}function eh(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function Av(t){let e="0x";for(let r=0;r<t;r++)e+=Tu(),e+=Tu();return e}function Tu(){return Math.floor(Math.random()*16).toString(16)}const Mv=Qy,Iv=yv,Rv=wv,{bnToHex:v3,hexToInt:zn,incrementHexInt:Tv,minBlockRef:Ov,blockRefIsNumber:Nv}=Rn;class Pv extends Rv{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new Mv(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=Ov(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=Tv(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await Iv(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(zn(this.params.fromBlock)>=zn(e.blockNumber)||Nv(this.params.toBlock)&&zn(this.params.toBlock)<=zn(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(l=>l.toLowerCase()),a.includes(o))})}}var Lv=Pv,ec=Dv;async function Dv({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=Ou(e),s=Ou(r)-n+1,o=Array(s).fill().map((c,u)=>n+u).map(jv);return await Promise.all(o.map(c=>Fv(t,"eth_getBlockByNumber",[c,!1])))}function Ou(t){return t==null?t:Number.parseInt(t,16)}function jv(t){return t==null?t:"0x"+t.toString(16)}function Bv(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function Fv(t,e,r){for(let n=0;n<3;n++)try{return await Bv(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const $v=Ja,Wv=ec,{incrementHexInt:Uv}=Rn;class Hv extends $v{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=Uv(e),o=(await Wv({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}}var Vv=Hv;const zv=Ja,qv=ec,{incrementHexInt:Gv}=Rn;class Qv extends zv{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=Gv(e),i=await qv({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}}var Zv=Qv;const Kv=Xf.Mutex,{createAsyncMiddleware:Yv,createScaffoldMiddleware:Jv}=Qa,Xv=Lv,e1=Vv,t1=Zv,{intToHex:th,hexToInt:Zo}=Rn;var r1=n1;function n1({blockTracker:t,provider:e}){let r=0,n={};const i=new Kv,s=i1({mutex:i}),o=Jv({eth_newFilter:s(Ko(c)),eth_newBlockFilter:s(Ko(u)),eth_newPendingTransactionFilter:s(Ko(l)),eth_uninstallFilter:s(ti(b)),eth_getFilterChanges:s(ti(g)),eth_getFilterLogs:s(ti(f))}),a=async({oldBlock:w,newBlock:E})=>{if(n.length===0)return;const T=await i.acquire();try{await Promise.all(hr(n).map(async B=>{try{await B.update({oldBlock:w,newBlock:E})}catch(z){console.error(z)}}))}catch(B){console.error(B)}T()};return o.newLogFilter=c,o.newBlockFilter=u,o.newPendingTransactionFilter=l,o.uninstallFilter=b,o.getFilterChanges=g,o.getFilterLogs=f,o.destroy=()=>{R()},o;async function c(w){const E=new Xv({provider:e,params:w});return await m(E),E}async function u(){const w=new e1({provider:e});return await m(w),w}async function l(){const w=new t1({provider:e});return await m(w),w}async function g(w){const E=Zo(w),T=n[E];if(!T)throw new Error(`No filter for index "${E}"`);return T.getChangesAndClear()}async function f(w){const E=Zo(w),T=n[E];if(!T)throw new Error(`No filter for index "${E}"`);let B=[];return T.type==="log"&&(B=T.getAllResults()),B}async function b(w){const E=Zo(w),T=n[E],B=Boolean(T);return B&&await A(E),B}async function m(w){const E=hr(n).length,T=await t.getLatestBlock();await w.initialize({currentBlock:T}),r++,n[r]=w,w.id=r,w.idHex=th(r);const B=hr(n).length;return p({prevFilterCount:E,newFilterCount:B}),r}async function A(w){const E=hr(n).length;delete n[w];const T=hr(n).length;p({prevFilterCount:E,newFilterCount:T})}async function R(){const w=hr(n).length;n={},p({prevFilterCount:w,newFilterCount:0})}function p({prevFilterCount:w,newFilterCount:E}){if(w===0&&E>0){t.on("sync",a);return}if(w>0&&E===0){t.removeListener("sync",a);return}}}function Ko(t){return ti(async(...e)=>{const r=await t(...e);return th(r.id)})}function ti(t){return Yv(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function i1({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function hr(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const s1=Br.default,{createAsyncMiddleware:Nu,createScaffoldMiddleware:o1}=Qa,a1=r1,{unsafeRandomBytes:c1,incrementHexInt:u1}=Rn,l1=ec;var f1=h1;function h1({blockTracker:t,provider:e}){const r={},n=a1({blockTracker:t,provider:e});let i=!1;const s=new s1,o=o1({eth_subscribe:Nu(a),eth_unsubscribe:Nu(c)});return o.destroy=l,{events:s,middleware:o};async function a(g,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const b=g.params[0],m=c1(16);let A;switch(b){case"newHeads":A=R({subId:m});break;case"logs":const w=g.params[1],E=await n.newLogFilter(w);A=p({subId:m,filter:E});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${b}"`)}r[m]=A,f.result=m;return;function R({subId:w}){const E={type:b,destroy:async()=>{t.removeListener("sync",E.update)},update:async({oldBlock:T,newBlock:B})=>{const z=B,q=u1(T);(await l1({provider:e,fromBlock:q,toBlock:z})).map(d1).filter(oe=>oe!==null).forEach(oe=>{u(w,oe)})}};return t.on("sync",E.update),E}function p({subId:w,filter:E}){return E.on("update",B=>u(w,B)),{type:b,destroy:async()=>await n.uninstallFilter(E.idHex)}}}async function c(g,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const b=g.params[0],m=r[b];if(!m){f.result=!1;return}delete r[b],await m.destroy(),f.result=!0}function u(g,f){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:g,result:f}})}function l(){s.removeAllListeners();for(const g in r)r[g].destroy(),delete r[g];i=!0}}function d1(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(ji,"__esModule",{value:!0});ji.SubscriptionManager=void 0;const p1=Jg,b1=f1,Pu=()=>{};class y1{constructor(e){const r=new p1({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=b1({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,Pu,Pu),r}destroy(){this.subscriptionMiddleware.destroy()}}ji.SubscriptionManager=y1;var tc=ue&&ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xr,"__esModule",{value:!0});xr.CoinbaseWalletProvider=void 0;const g1=tc(Br),v1=tc(Si.exports),Ne=ki,Yo=Fr,Lu=$r,Du=it,te=G,Jo=tc(Dy),_1=Ir,he=Mf,m1=ji,ju="DefaultChainId",Bu="DefaultJsonRpcUrl";class w1 extends g1.default{constructor(e){var r,n;super(),this._filterPolyfill=new _1.FilterPolyfill(this),this._subscriptionManager=new m1.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,te.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(Du.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,te.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const u=a.data.data.chainId,l=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(l,Number(u))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,te.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Bu))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Bu,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(ju,r.toString(10)),((0,te.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,c;if((0,te.ensureIntNumber)(e)===this.getChainId())return!1;const u=await this.initializeRelay(),l=u.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!l&&await u.requestEthereumAccounts().promise;const g=await u.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=g.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=g.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if(n.errorCode)throw Ne.ethErrors.provider.custom({code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Yo.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Lu.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(he.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Ne.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw Ne.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Ne.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,te.ensureRegExpString)(e)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(e,r){const i=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}async selectProvider(e){const n=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,te.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(Du.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case he.JSONRPCMethod.eth_accounts:return this._eth_accounts();case he.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case he.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case he.JSONRPCMethod.net_version:return this._net_version();case he.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case he.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case he.JSONRPCMethod.eth_sign:return this._eth_sign(n);case he.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case he.JSONRPCMethod.personal_sign:return this._personal_sign(n);case he.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case he.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case he.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case he.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case he.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case he.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case he.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case he.JSONRPCMethod.eth_signTypedData_v4:case he.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case he.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case he.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case he.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case he.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case he.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case he.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case he.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case he.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case he.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case he.JSONRPCMethod.eth_subscribe:case he.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,te.ensureAddressString)(e);return this._addresses.map(i=>(0,te.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Yo.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,te.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,te.ensureAddressString)(e.to):null,i=e.value!=null?(0,te.ensureBN)(e.value):new v1.default(0),s=e.data?(0,te.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,te.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,te.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,te.ensureBN)(e.maxFeePerGas):null,u=e.maxPriorityFeePerGas!=null?(0,te.ensureBN)(e.maxPriorityFeePerGas):null,l=e.gas!=null?(0,te.ensureBN)(e.gas):null,g=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:u,gasLimit:l,chainId:g}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw Ne.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw Ne.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?Ne.ethErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,te.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(ju);if(!e)return(0,te.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,te.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Yo.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Lu.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Ne.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,te.ensureAddressString)(e[0]),n=(0,te.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,te.ensureBuffer)(e[0]),n=(0,te.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,te.ensureBuffer)(e[0]),n=(0,te.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,te.ensureBuffer)(e[0]),n=(0,te.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Ne.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,te.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Ne.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,te.ensureParsedJSONObject)(e[0]),n=(0,te.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=Jo.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,te.ensureAddressString)(e[0]),n=(0,te.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Jo.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,te.ensureAddressString)(e[0]),n=(0,te.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Jo.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw Ne.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!o.nativeCurrency)throw Ne.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw Ne.ethErrors.rpc.invalidParams({message:"Type is required"});if((r==null?void 0:r.type)!=="ERC20")throw Ne.ethErrors.rpc.invalidParams({message:`Asset of type '${r.type}' is not supported`});if(!(r!=null&&r.options))throw Ne.ethErrors.rpc.invalidParams({message:"Options are required"});if(!(r!=null&&r.options.address))throw Ne.ethErrors.rpc.invalidParams({message:"Address is required"});const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,te.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,te.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,te.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}xr.CoinbaseWalletProvider=w1;var Qi={},Zi={},Tn,X,rh,nh,Rr,Zt,Fu,ih,sh,di={},oh=[],S1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function mt(t,e){for(var r in e)t[r]=e[r];return t}function ah(t){var e=t.parentNode;e&&e.removeChild(t)}function Sa(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Tn.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return an(t,o,n,i,null)}function an(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++rh:i};return i==null&&X.vnode!=null&&X.vnode(s),s}function E1(){return{current:null}}function On(t){return t.children}function x1(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||pi(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||pi(t,s,e[s],r[s],n)}function $u(t,e,r){e[0]==="-"?t.setProperty(e,r==null?"":r):t[e]=r==null?"":typeof r!="number"||S1.test(e)?r:r+"px"}function pi(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||$u(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||$u(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n||t.addEventListener(e,s?Uu:Wu,s):t.removeEventListener(e,s?Uu:Wu,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r==null?"":r;break e}catch{}typeof r=="function"||(r==null||r===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,r))}}function Wu(t){Rr=!0;try{return this.l[t.type+!1](X.event?X.event(t):t)}finally{Rr=!1}}function Uu(t){Rr=!0;try{return this.l[t.type+!0](X.event?X.event(t):t)}finally{Rr=!1}}function cn(t,e){this.props=t,this.context=e}function dn(t,e){if(e==null)return t.__?dn(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?dn(t):null}function ch(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return ch(t)}}function C1(t){Rr?setTimeout(t):ih(t)}function Ea(t){(!t.__d&&(t.__d=!0)&&Zt.push(t)&&!bi.__r++||Fu!==X.debounceRendering)&&((Fu=X.debounceRendering)||C1)(bi)}function bi(){var t,e,r,n,i,s,o,a;for(Zt.sort(function(c,u){return c.__v.__b-u.__v.__b});t=Zt.shift();)t.__d&&(e=Zt.length,n=void 0,i=void 0,o=(s=(r=t).__v).__e,(a=r.__P)&&(n=[],(i=mt({},s)).__v=s.__v+1,rc(a,s,i,r.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,n,o==null?dn(s):o,s.__h),ph(n,s),s.__e!=o&&ch(s)),Zt.length>e&&Zt.sort(function(c,u){return c.__v.__b-u.__v.__b}));bi.__r=0}function uh(t,e,r,n,i,s,o,a,c,u){var l,g,f,b,m,A,R,p=n&&n.__k||oh,w=p.length;for(r.__k=[],l=0;l<e.length;l++)if((b=r.__k[l]=(b=e[l])==null||typeof b=="boolean"?null:typeof b=="string"||typeof b=="number"||typeof b=="bigint"?an(null,b,null,null,b):Array.isArray(b)?an(On,{children:b},null,null,null):b.__b>0?an(b.type,b.props,b.key,b.ref?b.ref:null,b.__v):b)!=null){if(b.__=r,b.__b=r.__b+1,(f=p[l])===null||f&&b.key==f.key&&b.type===f.type)p[l]=void 0;else for(g=0;g<w;g++){if((f=p[g])&&b.key==f.key&&b.type===f.type){p[g]=void 0;break}f=null}rc(t,b,f=f||di,i,s,o,a,c,u),m=b.__e,(g=b.ref)&&f.ref!=g&&(R||(R=[]),f.ref&&R.push(f.ref,null,b),R.push(g,b.__c||m,b)),m!=null?(A==null&&(A=m),typeof b.type=="function"&&b.__k===f.__k?b.__d=c=lh(b,c,t):c=hh(t,b,f,p,m,c),typeof r.type=="function"&&(r.__d=c)):c&&f.__e==c&&c.parentNode!=t&&(c=dn(f))}for(r.__e=A,l=w;l--;)p[l]!=null&&(typeof r.type=="function"&&p[l].__e!=null&&p[l].__e==r.__d&&(r.__d=dh(n).nextSibling),yh(p[l],p[l]));if(R)for(l=0;l<R.length;l++)bh(R[l],R[++l],R[++l])}function lh(t,e,r){for(var n,i=t.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=t,e=typeof n.type=="function"?lh(n,e,r):hh(r,n,n,i,n.__e,e));return e}function fh(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){fh(r,e)}):e.push(t)),e}function hh(t,e,r,n,i,s){var o,a,c;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(r==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,c=0;(a=a.nextSibling)&&c<n.length;c+=1)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function dh(t){var e,r,n;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((r=t.__k[e])&&(n=dh(r)))return n}return null}function rc(t,e,r,n,i,s,o,a,c){var u,l,g,f,b,m,A,R,p,w,E,T,B,z,q,U=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(c=r.__h,a=e.__e=r.__e,e.__h=null,s=[a]),(u=X.__b)&&u(e);try{e:if(typeof U=="function"){if(R=e.props,p=(u=U.contextType)&&n[u.__c],w=u?p?p.props.value:u.__:n,r.__c?A=(l=e.__c=r.__c).__=l.__E:("prototype"in U&&U.prototype.render?e.__c=l=new U(R,w):(e.__c=l=new cn(R,w),l.constructor=U,l.render=A1),p&&p.sub(l),l.props=R,l.state||(l.state={}),l.context=w,l.__n=n,g=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),U.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=mt({},l.__s)),mt(l.__s,U.getDerivedStateFromProps(R,l.__s))),f=l.props,b=l.state,l.__v=e,g)U.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(U.getDerivedStateFromProps==null&&R!==f&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(R,w),!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(R,l.__s,w)===!1||e.__v===r.__v){for(e.__v!==r.__v&&(l.props=R,l.state=l.__s,l.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(W){W&&(W.__=e)}),E=0;E<l._sb.length;E++)l.__h.push(l._sb[E]);l._sb=[],l.__h.length&&o.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(R,l.__s,w),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(f,b,m)})}if(l.context=w,l.props=R,l.__P=t,T=X.__r,B=0,"prototype"in U&&U.prototype.render){for(l.state=l.__s,l.__d=!1,T&&T(e),u=l.render(l.props,l.state,l.context),z=0;z<l._sb.length;z++)l.__h.push(l._sb[z]);l._sb=[]}else do l.__d=!1,T&&T(e),u=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++B<25);l.state=l.__s,l.getChildContext!=null&&(n=mt(mt({},n),l.getChildContext())),g||l.getSnapshotBeforeUpdate==null||(m=l.getSnapshotBeforeUpdate(f,b)),q=u!=null&&u.type===On&&u.key==null?u.props.children:u,uh(t,Array.isArray(q)?q:[q],e,r,n,i,s,o,a,c),l.base=e.__e,e.__h=null,l.__h.length&&o.push(l),A&&(l.__E=l.__=null),l.__e=!1}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=k1(r.__e,e,r,n,i,s,o,c);(u=X.diffed)&&u(e)}catch(W){e.__v=null,(c||s!=null)&&(e.__e=a,e.__h=!!c,s[s.indexOf(a)]=null),X.__e(W,e,r)}}function ph(t,e){X.__c&&X.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){X.__e(n,r.__v)}})}function k1(t,e,r,n,i,s,o,a){var c,u,l,g=r.props,f=e.props,b=e.type,m=0;if(b==="svg"&&(i=!0),s!=null){for(;m<s.length;m++)if((c=s[m])&&"setAttribute"in c==!!b&&(b?c.localName===b:c.nodeType===3)){t=c,s[m]=null;break}}if(t==null){if(b===null)return document.createTextNode(f);t=i?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,f.is&&f),s=null,a=!1}if(b===null)g===f||a&&t.data===f||(t.data=f);else{if(s=s&&Tn.call(t.childNodes),u=(g=r.props||di).dangerouslySetInnerHTML,l=f.dangerouslySetInnerHTML,!a){if(s!=null)for(g={},m=0;m<t.attributes.length;m++)g[t.attributes[m].name]=t.attributes[m].value;(l||u)&&(l&&(u&&l.__html==u.__html||l.__html===t.innerHTML)||(t.innerHTML=l&&l.__html||""))}if(x1(t,f,g,i,a),l)e.__k=[];else if(m=e.props.children,uh(t,Array.isArray(m)?m:[m],e,r,n,i&&b!=="foreignObject",s,o,s?s[0]:r.__k&&dn(r,0),a),s!=null)for(m=s.length;m--;)s[m]!=null&&ah(s[m]);a||("value"in f&&(m=f.value)!==void 0&&(m!==t.value||b==="progress"&&!m||b==="option"&&m!==g.value)&&pi(t,"value",m,g.value,!1),"checked"in f&&(m=f.checked)!==void 0&&m!==t.checked&&pi(t,"checked",m,g.checked,!1))}return t}function bh(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){X.__e(n,r)}}function yh(t,e,r){var n,i;if(X.unmount&&X.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||bh(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){X.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&yh(n[i],e,r||typeof t.type!="function");r||t.__e==null||ah(t.__e),t.__=t.__e=t.__d=void 0}function A1(t,e,r){return this.constructor(t,r)}function gh(t,e,r){var n,i,s;X.__&&X.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],rc(e,t=(!n&&r||e).__k=Sa(On,null,[t]),i||di,di,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?Tn.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n),ph(s,t)}function vh(t,e){gh(t,e,vh)}function M1(t,e,r){var n,i,s,o=mt({},t.props);for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];return arguments.length>2&&(o.children=arguments.length>3?Tn.call(arguments,2):r),an(t.type,o,n||t.key,i||t.ref,null)}function I1(t,e){var r={__c:e="__cC"+sh++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,Ea(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Tn=oh.slice,X={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},rh=0,nh=function(t){return t!=null&&t.constructor===void 0},Rr=!1,cn.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=mt({},this.state),typeof t=="function"&&(t=t(mt({},r),this.props)),t&&mt(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Ea(this))},cn.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ea(this))},cn.prototype.render=On,Zt=[],ih=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,bi.__r=0,sh=0;const R1=Object.freeze(Object.defineProperty({__proto__:null,Component:cn,Fragment:On,cloneElement:M1,createContext:I1,createElement:Sa,createRef:E1,h:Sa,hydrate:vh,get isValidElement(){return nh},get options(){return X},render:gh,toChildArray:fh},Symbol.toStringTag,{value:"Module"})),He=vn(R1);function Tr(t){return typeof t=="function"}var Hu=!1,Ge={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}Hu=t},get useDeprecatedSynchronousErrorHandling(){return Hu}};function vr(t){setTimeout(function(){throw t},0)}var yi={closed:!0,next:function(t){},error:function(t){if(Ge.useDeprecatedSynchronousErrorHandling)throw t;vr(t)},complete:function(){}},Be=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function nc(t){return t!==null&&typeof t=="object"}var T1=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),un=T1,ve=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(Tr(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(g){e=g instanceof un?Vu(g.errors):[g]}}if(Be(o))for(var a=-1,u=o.length;++a<u;){var l=o[a];if(nc(l))try{l.unsubscribe()}catch(f){e=e||[],f instanceof un?e=e.concat(Vu(f.errors)):e.push(f)}}if(e)throw new un(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function Vu(t){return t.reduce(function(e,r){return e.concat(r instanceof un?r.errors:r)},[])}var gi=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Q=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=yi;break;case 1:if(!r){s.destination=yi;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new zu(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new zu(s,r,n,i);break}return s}return e.prototype[gi]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(ve),zu=function(t){D.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,c=o;return Tr(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==yi&&(c=Object.create(n),Tr(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!Ge.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=Ge.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):vr(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;vr(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!Ge.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),Ge.useDeprecatedSynchronousErrorHandling)throw i;vr(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!Ge.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return Ge.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(vr(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(Q);function ic(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof Q?t=n:t=null}return!0}function O1(t,e,r){if(t){if(t instanceof Q)return t;if(t[gi])return t[gi]()}return!t&&!e&&!r?new Q(yi):new Q(t,e,r)}var Vr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Bt(t){return t}function xa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return _h(t)}function _h(t){return t.length===0?Bt:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var re=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=O1(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||Ge.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Ge.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){Ge.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),ic(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=qu(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[Vr]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:_h(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=qu(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function qu(t){if(t||(t=Ge.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var N1=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Tt=N1,mh=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(ve),wh=function(t){D.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(Q),Me=function(t){D.exports.__extends(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[gi]=function(){return new wh(this)},e.prototype.lift=function(r){var n=new Gu(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new Tt;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new Tt;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Tt;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new Tt;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new Tt;return this.hasError?(r.error(this.thrownError),ve.EMPTY):this.isStopped?(r.complete(),ve.EMPTY):(this.observers.push(r),new mh(this,r))},e.prototype.asObservable=function(){var r=new re;return r.source=this,r},e.create=function(r,n){return new Gu(r,n)},e}(re),Gu=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):ve.EMPTY},e}(Me);function sc(){return function(e){return e.lift(new P1(e))}}var P1=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new L1(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),L1=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(Q),Sh=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new ve,r.add(this.source.subscribe(new j1(this.getSubject(),this))),r.closed&&(this._connection=null,r=ve.EMPTY)),r},e.prototype.refCount=function(){return sc()(this)},e}(re),D1=function(){var t=Sh.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),j1=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(wh);function B1(t,e,r,n){return function(i){return i.lift(new F1(t,e,r,n))}}var F1=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new $1(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),$1=function(t){D.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(u){this.error(u)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new Me,i.set(n,s);var a=new Ca(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new Ca(n,s))}catch(u){this.error(u);return}this.add(c.subscribe(new W1(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(Q),W1=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(Q),Ca=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new ve,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new U1(s)),n.add(o.subscribe(r)),n},e}(re),U1=function(t){D.exports.__extends(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(ve),Eh=function(t){D.exports.__extends(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Tt;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(Me),H1=function(t){D.exports.__extends(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(ve),Nn=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(H1),V1=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(Nn),ka=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),Pn=function(t){D.exports.__extends(e,t);function e(r,n){n===void 0&&(n=ka.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(ka),z1=function(t){D.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Pn),xh=new z1(V1),Ch=xh,Or=new re(function(t){return t.complete()});function zr(t){return t?q1(t):Or}function q1(t){return new re(function(e){return t.schedule(function(){return e.complete()})})}function Ue(t){return t&&typeof t.schedule=="function"}var kh=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function oc(t,e){return new re(function(r){var n=new ve,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function Ln(t,e){return e?oc(t,e):new re(kh(t))}function Ki(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Ue(r)?(t.pop(),oc(t,r)):Ln(t)}function ac(t,e){return e?new re(function(r){return e.schedule(G1,0,{error:t,subscriber:r})}):new re(function(r){return r.error(t)})}function G1(t){var e=t.error,r=t.subscriber;r.error(e)}var Aa;Aa||(Aa={});var wt=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Ki(this.value);case"E":return ac(this.error);case"C":return zr()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function Q1(t,e){return e===void 0&&(e=0),function(n){return n.lift(new Z1(t,e))}}var Z1=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new Ah(e,this.scheduler,this.delay))},t}(),Ah=function(t){D.exports.__extends(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new K1(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(wt.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(wt.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(wt.createComplete()),this.unsubscribe()},e}(Q),K1=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),cc=function(t){D.exports.__extends(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new Y1(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new Tt;if(this.isStopped||this.hasError?a=ve.EMPTY:(this.observers.push(r),a=new mh(this,r)),s&&r.add(r=new Ah(r,s)),n)for(var c=0;c<o&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<o&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||Ch).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(Me),Y1=function(){function t(e,r){this.time=e,this.value=r}return t}(),qr=function(t){D.exports.__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),ve.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),ve.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Me),J1=1,X1=function(){return Promise.resolve()}(),Ma={};function Qu(t){return t in Ma?(delete Ma[t],!0):!1}var Zu={setImmediate:function(t){var e=J1++;return Ma[e]=!0,X1.then(function(){return Qu(e)&&t()}),e},clearImmediate:function(t){Qu(t)}},e_=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=Zu.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(Zu.clearImmediate(n),r.scheduled=void 0)},e}(Nn),t_=function(t){D.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Pn),Mh=new t_(e_),ri=Mh,Ih=new Pn(Nn),Fe=Ih,r_=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(Nn),n_=function(t){D.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Pn),Rh=new n_(r_),i_=Rh,s_=function(t){D.exports.__extends(e,t);function e(r,n){r===void 0&&(r=Th),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(Pn),Th=function(t){D.exports.__extends(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(Nn);function ut(){}function o_(t){return!!t&&(t instanceof re||typeof t.lift=="function"&&typeof t.subscribe=="function")}var a_=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Nr=a_,c_=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Dn=c_,u_=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),Oh=u_;function Xe(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new l_(t,e))}}var l_=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new f_(e,this.project,this.thisArg))},t}(),f_=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Q);function Nh(t,e,r){if(e)if(Ue(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Nh(t,r).apply(void 0,n).pipe(Xe(function(s){return Be(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new re(function(c){if(r){var l={args:n,subscriber:c,params:a};return r.schedule(h_,0,l)}else{if(!o){o=new qr;var u=function(){for(var g=[],f=0;f<arguments.length;f++)g[f]=arguments[f];o.next(g.length<=1?g[0]:g),o.complete()};try{t.apply(s,n.concat([u]))}catch(g){ic(o)?o.error(g):console.warn(g)}}return o.subscribe(c)}})}}function h_(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new qr;var u=function(){for(var l=[],g=0;g<arguments.length;g++)l[g]=arguments[g];var f=l.length<=1?l[0]:l;e.add(a.schedule(d_,0,{value:f,subject:c}))};try{s.apply(o,r.concat([u]))}catch(l){c.error(l)}}this.add(c.subscribe(n))}function d_(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Ph(t,e,r){if(e)if(Ue(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Ph(t,r).apply(void 0,n).pipe(Xe(function(s){return Be(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new re(function(o){var a=s.context,c=s.subject;if(r)return r.schedule(p_,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new qr;var u=function(){for(var l=[],g=0;g<arguments.length;g++)l[g]=arguments[g];var f=l.shift();if(f){c.error(f);return}c.next(l.length<=1?l[0]:l),c.complete()};try{t.apply(a,n.concat([u]))}catch(l){ic(c)?c.error(l):console.warn(l)}}return c.subscribe(o)})}}function p_(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new qr;var u=function(){for(var l=[],g=0;g<arguments.length;g++)l[g]=arguments[g];var f=l.shift();if(f)e.add(a.schedule(Ku,0,{err:f,subject:c}));else{var b=l.length<=1?l[0]:l;e.add(a.schedule(b_,0,{value:b,subject:c}))}};try{s.apply(i,o.concat([u]))}catch(l){this.add(a.schedule(Ku,0,{err:l,subject:c}))}}this.add(c.subscribe(n))}function b_(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Ku(t){var e=t.err,r=t.subject;r.error(e)}var or=function(t){D.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(Q),y_=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(Q),g_=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,vr),e}};function v_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ft=v_(),__=function(t){return function(e){var r=t[Ft]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},m_=function(t){return function(e){var r=t[Vr]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Lh=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Dh(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var pn=function(t){if(!!t&&typeof t[Vr]=="function")return m_(t);if(Lh(t))return kh(t);if(Dh(t))return g_(t);if(!!t&&typeof t[Ft]=="function")return __(t);var e=nc(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function Et(t,e,r,n,i){if(i===void 0&&(i=new y_(t,r,n)),!i.closed)return e instanceof re?e.subscribe(i):pn(e)(i)}var Yu={};function w_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return Ue(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Be(t[0])&&(t=t[0]),Ln(t,n).lift(new uc(r))}var uc=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new S_(e,this.resultSelector))},t}(),S_=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(Yu),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(Et(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===Yu?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(or);function E_(t,e){return new re(function(r){var n=new ve;return n.add(e.schedule(function(){var i=t[Vr]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function x_(t,e){return new re(function(r){var n=new ve;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function C_(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(function(r){var n=new ve,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[Ft](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){r.error(c);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function k_(t){return t&&typeof t[Vr]=="function"}function A_(t){return t&&typeof t[Ft]=="function"}function jh(t,e){if(t!=null){if(k_(t))return E_(t,e);if(Dh(t))return x_(t,e);if(Lh(t))return oc(t,e);if(A_(t)||typeof t=="string")return C_(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function xt(t,e){return e?jh(t,e):t instanceof re?t:new re(pn(t))}var _e=function(t){D.exports.__extends(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(Q),me=function(t){D.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(Q);function we(t,e){if(!e.closed){if(t instanceof re)return t.subscribe(e);var r;try{r=pn(t)(e)}catch(n){e.error(n)}return r}}function rr(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(rr(function(i,s){return xt(t(i,s)).pipe(Xe(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new M_(t,r))})}var M_=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new I_(e,this.project,this.concurrent))},t}(),I_=function(t){D.exports.__extends(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new _e(this),i=this.destination;i.add(n);var s=we(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(me),R_=rr;function lc(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),rr(Bt,t)}function Bh(){return lc(1)}function bn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Bh()(Ki.apply(void 0,t))}function fc(t){return new re(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?xt(r):zr();return n.subscribe(e)})}function T_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(Be(r))return qn(r,null);if(nc(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return qn(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&Be(t[0])?t[0]:t,qn(t,null).pipe(Xe(function(s){return i.apply(void 0,s)}))}return qn(t,null)}function qn(t,e){return new re(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(u){var l=xt(t[u]),g=!1;r.add(l.subscribe({next:function(f){g||(g=!0,o++),i[u]=f},error:function(f){return r.error(f)},complete:function(){s++,(s===n||!g)&&(o===n&&r.next(e?e.reduce(function(f,b,m){return f[b]=i[m],f},{}):i),r.complete())}}))},c=0;c<n;c++)a(c)})}function Fh(t,e,r,n){return Tr(r)&&(n=r,r=void 0),n?Fh(t,e,r).pipe(Xe(function(i){return Be(i)?n.apply(void 0,i):n(i)})):new re(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}$h(t,e,s,i,r)})}function $h(t,e,r,n,i){var s;if(P_(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(N_(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(O_(t)){var c=t;t.addListener(e,r),s=function(){return c.removeListener(e,r)}}else if(t&&t.length)for(var u=0,l=t.length;u<l;u++)$h(t[u],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function O_(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function N_(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function P_(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Wh(t,e,r){return r?Wh(t,e).pipe(Xe(function(n){return Be(n)?r.apply(void 0,n):r(n)})):new re(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(!!Tr(e))return function(){return e(i,s)}})}function L_(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||Bt,i=a.scheduler}else n===void 0||Ue(n)?(o=t,s=Bt,i=n):(o=t,s=n);return new re(function(c){var u=o;if(i)return i.schedule(D_,0,{subscriber:c,iterate:r,condition:e,resultSelector:s,state:u});do{if(e){var l=void 0;try{l=e(u)}catch(f){c.error(f);return}if(!l){c.complete();break}}var g=void 0;try{g=s(u)}catch(f){c.error(f);return}if(c.next(g),c.closed)break;try{u=r(u)}catch(f){c.error(f);return}}while(!0)})}function D_(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function j_(t,e,r){return e===void 0&&(e=Or),r===void 0&&(r=Or),fc(function(){return t()?e:r})}function Pr(t){return!Be(t)&&t-parseFloat(t)+1>=0}function B_(t,e){return t===void 0&&(t=0),e===void 0&&(e=Fe),(!Pr(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=Fe),new re(function(r){return r.add(e.schedule(F_,t,{subscriber:r,counter:0,period:t})),r})}function F_(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function Uh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return Ue(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof re?t[0]:lc(r)(Ln(t,n))}var Hh=new re(ut);function $_(){return Hh}function Ia(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return Or;var r=t[0],n=t.slice(1);return t.length===1&&Be(r)?Ia.apply(void 0,r):new re(function(i){var s=function(){return i.add(Ia.apply(void 0,n).subscribe(i))};return xt(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function W_(t,e){return e?new re(function(r){var n=Object.keys(t),i=new ve;return i.add(e.schedule(U_,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new re(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function U_(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function Vh(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function $t(t,e){return function(n){return n.lift(new H_(t,e))}}var H_=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new V_(e,this.predicate,this.thisArg))},t}(),V_=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(Q);function z_(t,e,r){return[$t(e,r)(new re(pn(t))),$t(Vh(e,r))(new re(pn(t)))]}function zh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(Be(t[0]))t=t[0];else return t[0];return Ln(t,void 0).lift(new q_)}var q_=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new G_(e))},t}(),G_=function(t){D.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=Et(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(or);function Q_(t,e,r){return t===void 0&&(t=0),new re(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(Z_,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function Z_(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function qh(t,e,r){t===void 0&&(t=0);var n=-1;return Pr(e)?n=Number(e)<1&&1||Number(e):Ue(e)&&(r=e),Ue(r)||(r=Fe),new re(function(i){var s=Pr(t)?t:+t-r.now();return r.schedule(K_,s,{index:0,period:n,subscriber:i})})}function K_(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function Y_(t,e){return new re(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?xt(i):Or,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function Gh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),Ln(t,void 0).lift(new Qh(r))}var Qh=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new J_(e,this.resultSelector))},t}(),J_=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;Be(r)?n.push(new em(r)):typeof r[Ft]=="function"?n.push(new X_(r[Ft]())):n.push(new tm(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=r[s],u=o.next();if(o.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Q),X_=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),em=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[Ft]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),tm=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[Ft]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return we(this.observable,new _e(this))},e}(me);const rm=Object.freeze(Object.defineProperty({__proto__:null,Observable:re,ConnectableObservable:Sh,GroupedObservable:Ca,observable:Vr,Subject:Me,BehaviorSubject:Eh,ReplaySubject:cc,AsyncSubject:qr,asap:ri,asapScheduler:Mh,async:Fe,asyncScheduler:Ih,queue:Ch,queueScheduler:xh,animationFrame:i_,animationFrameScheduler:Rh,VirtualTimeScheduler:s_,VirtualAction:Th,Scheduler:ka,Subscription:ve,Subscriber:Q,Notification:wt,get NotificationKind(){return Aa},pipe:xa,noop:ut,identity:Bt,isObservable:o_,ArgumentOutOfRangeError:Nr,EmptyError:Dn,ObjectUnsubscribedError:Tt,UnsubscriptionError:un,TimeoutError:Oh,bindCallback:Nh,bindNodeCallback:Ph,combineLatest:w_,concat:bn,defer:fc,empty:zr,forkJoin:T_,from:xt,fromEvent:Fh,fromEventPattern:Wh,generate:L_,iif:j_,interval:B_,merge:Uh,never:$_,of:Ki,onErrorResumeNext:Ia,pairs:W_,partition:z_,race:zh,range:Q_,throwError:ac,timer:qh,using:Y_,zip:Gh,scheduled:jh,EMPTY:Or,NEVER:Hh,config:Ge},Symbol.toStringTag,{value:"Module"})),Yi=vn(rm);var Ji={};function Zh(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Zh(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Ju(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=Zh(t))&&(n&&(n+=" "),n+=e);return n}const nm=Object.freeze(Object.defineProperty({__proto__:null,clsx:Ju,default:Ju},Symbol.toStringTag,{value:"Module"})),Xi=vn(nm);var Ut,pe,Xo,Xu,Lr=0,Kh=[],ni=[],el=X.__b,tl=X.__r,rl=X.diffed,nl=X.__c,il=X.unmount;function ar(t,e){X.__h&&X.__h(pe,t,Lr||e),Lr=0;var r=pe.__H||(pe.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:ni}),r.__[t]}function Yh(t){return Lr=1,Jh(ed,t)}function Jh(t,e,r){var n=ar(Ut++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):ed(void 0,e),function(s){var o=n.__N?n.__N[0]:n.__[0],a=n.t(o,s);o!==a&&(n.__N=[a,n.__[1]],n.__c.setState({}))}],n.__c=pe,!pe.u)){pe.u=!0;var i=pe.shouldComponentUpdate;pe.shouldComponentUpdate=function(s,o,a){if(!n.__c.__H)return!0;var c=n.__c.__H.__.filter(function(l){return l.__c});if(c.every(function(l){return!l.__N}))return!i||i.call(this,s,o,a);var u=!1;return c.forEach(function(l){if(l.__N){var g=l.__[0];l.__=l.__N,l.__N=void 0,g!==l.__[0]&&(u=!0)}}),!(!u&&n.__c.props===s)&&(!i||i.call(this,s,o,a))}}return n.__N||n.__}function im(t,e){var r=ar(Ut++,3);!X.__s&&dc(r.__H,e)&&(r.__=t,r.i=e,pe.__H.__h.push(r))}function Xh(t,e){var r=ar(Ut++,4);!X.__s&&dc(r.__H,e)&&(r.__=t,r.i=e,pe.__h.push(r))}function sm(t){return Lr=5,hc(function(){return{current:t}},[])}function om(t,e,r){Lr=6,Xh(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function hc(t,e){var r=ar(Ut++,7);return dc(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function am(t,e){return Lr=8,hc(function(){return t},e)}function cm(t){var e=pe.context[t.__c],r=ar(Ut++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(pe)),e.props.value):t.__}function um(t,e){X.useDebugValue&&X.useDebugValue(e?e(t):t)}function lm(t){var e=ar(Ut++,10),r=Yh();return e.__=t,pe.componentDidCatch||(pe.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function fm(){var t=ar(Ut++,11);if(!t.__){for(var e=pe.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function hm(){for(var t;t=Kh.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ii),t.__H.__h.forEach(Ra),t.__H.__h=[]}catch(e){t.__H.__h=[],X.__e(e,t.__v)}}X.__b=function(t){pe=null,el&&el(t)},X.__r=function(t){tl&&tl(t),Ut=0;var e=(pe=t.__c).__H;e&&(Xo===pe?(e.__h=[],pe.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=ni,r.__N=r.i=void 0})):(e.__h.forEach(ii),e.__h.forEach(Ra),e.__h=[])),Xo=pe},X.diffed=function(t){rl&&rl(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Kh.push(e)!==1&&Xu===X.requestAnimationFrame||((Xu=X.requestAnimationFrame)||dm)(hm)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==ni&&(r.__=r.__V),r.i=void 0,r.__V=ni})),Xo=pe=null},X.__c=function(t,e){e.some(function(r){try{r.__h.forEach(ii),r.__h=r.__h.filter(function(n){return!n.__||Ra(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],X.__e(n,r.__v)}}),nl&&nl(t,e)},X.unmount=function(t){il&&il(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{ii(n)}catch(i){e=i}}),r.__H=void 0,e&&X.__e(e,r.__v))};var sl=typeof requestAnimationFrame=="function";function dm(t){var e,r=function(){clearTimeout(n),sl&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);sl&&(e=requestAnimationFrame(r))}function ii(t){var e=pe,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),pe=e}function Ra(t){var e=pe;t.__c=t.__(),pe=e}function dc(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function ed(t,e){return typeof e=="function"?e(t):e}const pm=Object.freeze(Object.defineProperty({__proto__:null,useCallback:am,useContext:cm,useDebugValue:um,useEffect:im,useErrorBoundary:lm,useId:fm,useImperativeHandle:om,useLayoutEffect:Xh,useMemo:hc,useReducer:Jh,useRef:sm,useState:Yh},Symbol.toStringTag,{value:"Module"})),jn=vn(pm);var dt={},es={};Object.defineProperty(es,"__esModule",{value:!0});es.LIB_VERSION=void 0;es.LIB_VERSION="3.6.4";var ts={};Object.defineProperty(ts,"__esModule",{value:!0});ts.CloseIcon=void 0;const ol=He;function bm(t){return(0,ol.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,ol.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}ts.CloseIcon=bm;var pc={};Object.defineProperty(pc,"__esModule",{value:!0});pc.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var bc={};Object.defineProperty(bc,"__esModule",{value:!0});bc.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var rs={};Object.defineProperty(rs,"__esModule",{value:!0});rs.QRCodeIcon=void 0;const at=He;function ym(t){return(0,at.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,at.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,at.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,at.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,at.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,at.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,at.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,at.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,at.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,at.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}rs.QRCodeIcon=ym;var yc={};Object.defineProperty(yc,"__esModule",{value:!0});const gm=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;yc.default=gm;var gc={};Object.defineProperty(gc,"__esModule",{value:!0});gc.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.StatusDotIcon=void 0;const al=He;function vm(t){return(0,al.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,al.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}ns.StatusDotIcon=vm;var is={};function td(t){this.mode=We.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}td.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function pt(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}pt.prototype={addData:function(t){var e=new td(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=pt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=ge.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,u=this.modules[s][a];u&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=ge.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=ge.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=ge.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var u=ge.getMask(e,n,o-a);u&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};pt.PAD0=236;pt.PAD1=17;pt.createData=function(t,e,r){for(var n=ht.getRSBlocks(t,e),i=new rd,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),ge.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(pt.PAD0,8),i.getLengthInBits()>=a*8));)i.put(pt.PAD1,8);return pt.createBytes(i,n)};pt.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,u=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,u),s[a]=new Array(c);for(var l=0;l<s[a].length;l++)s[a][l]=255&t.buffer[l+r];r+=c;var g=ge.getErrorCorrectPolynomial(u),f=new Er(s[a],g.getLength()-1),b=f.mod(g);o[a]=new Array(g.getLength()-1);for(var l=0;l<o[a].length;l++){var m=l+b.getLength()-o[a].length;o[a][l]=m>=0?b.get(m):0}}for(var A=0,l=0;l<e.length;l++)A+=e[l].totalCount;for(var R=new Array(A),p=0,l=0;l<n;l++)for(var a=0;a<e.length;a++)l<s[a].length&&(R[p++]=s[a][l]);for(var l=0;l<i;l++)for(var a=0;a<e.length;a++)l<o[a].length&&(R[p++]=o[a][l]);return R};var We={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},Nt={L:1,M:0,Q:3,H:2},kt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},ge={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;ge.getBCHDigit(e)-ge.getBCHDigit(ge.G15)>=0;)e^=ge.G15<<ge.getBCHDigit(e)-ge.getBCHDigit(ge.G15);return(t<<10|e)^ge.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;ge.getBCHDigit(e)-ge.getBCHDigit(ge.G18)>=0;)e^=ge.G18<<ge.getBCHDigit(e)-ge.getBCHDigit(ge.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return ge.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case kt.PATTERN000:return(e+r)%2==0;case kt.PATTERN001:return e%2==0;case kt.PATTERN010:return r%3==0;case kt.PATTERN011:return(e+r)%3==0;case kt.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case kt.PATTERN101:return e*r%2+e*r%3==0;case kt.PATTERN110:return(e*r%2+e*r%3)%2==0;case kt.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Er([1],0),r=0;r<t;r++)e=e.multiply(new Er([1,Ae.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case We.MODE_NUMBER:return 10;case We.MODE_ALPHA_NUM:return 9;case We.MODE_8BIT_BYTE:return 8;case We.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case We.MODE_NUMBER:return 12;case We.MODE_ALPHA_NUM:return 11;case We.MODE_8BIT_BYTE:return 16;case We.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case We.MODE_NUMBER:return 14;case We.MODE_ALPHA_NUM:return 13;case We.MODE_8BIT_BYTE:return 16;case We.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var u=0;t.isDark(n,i)&&u++,t.isDark(n+1,i)&&u++,t.isDark(n,i+1)&&u++,t.isDark(n+1,i+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var l=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&l++;var g=Math.abs(100*l/e/e-50)/5;return r+=g*10,r}},Ae={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Ae.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Ae.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Re=0;Re<8;Re++)Ae.EXP_TABLE[Re]=1<<Re;for(var Re=8;Re<256;Re++)Ae.EXP_TABLE[Re]=Ae.EXP_TABLE[Re-4]^Ae.EXP_TABLE[Re-5]^Ae.EXP_TABLE[Re-6]^Ae.EXP_TABLE[Re-8];for(var Re=0;Re<255;Re++)Ae.LOG_TABLE[Ae.EXP_TABLE[Re]]=Re;function Er(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}Er.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=Ae.gexp(Ae.glog(this.get(r))+Ae.glog(t.get(n)));return new Er(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Ae.glog(this.get(0))-Ae.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=Ae.gexp(Ae.glog(t.get(n))+e);return new Er(r,0).mod(t)}};function ht(t,e){this.totalCount=t,this.dataCount=e}ht.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];ht.getRSBlocks=function(t,e){var r=ht.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],u=0;u<o;u++)i.push(new ht(a,c));return i};ht.getRsBlockTable=function(t,e){switch(e){case Nt.L:return ht.RS_BLOCK_TABLE[(t-1)*4+0];case Nt.M:return ht.RS_BLOCK_TABLE[(t-1)*4+1];case Nt.Q:return ht.RS_BLOCK_TABLE[(t-1)*4+2];case Nt.H:return ht.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function rd(){this.buffer=[],this.length=0}rd.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var ea=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function nd(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return Nt.L;case"M":return Nt.M;case"Q":return Nt.Q;case"H":return Nt.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,u){for(var l=i(c),g=1,f=0,b=0,m=ea.length;b<=m;b++){var A=ea[b];if(!A)throw new Error("Content too long: expected "+f+" but got "+l);switch(u){case"L":f=A[0];break;case"M":f=A[1];break;case"Q":f=A[2];break;case"H":f=A[3];break;default:throw new Error("Unknwon error correction level: "+u)}if(l<=f)break;g++}if(g>ea.length)throw new Error("Content too long");return g}function i(c){var u=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return u.length+(u.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new pt(o,a),this.qrcode.addData(s),this.qrcode.make()}nd.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=r.length,u=o/(c+2*e.padding),l=a/(c+2*e.padding),g=typeof e.join<"u"?!!e.join:!1,f=typeof e.swap<"u"?!!e.swap:!1,b=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,m=typeof e.predefined<"u"?!!e.predefined:!1,A=m?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+u+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",R=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,p="",w="",E=0;E<c;E++)for(var T=0;T<c;T++){var B=r[T][E];if(B){var z=T*u+e.padding*u,q=E*l+e.padding*l;if(f){var U=z;z=q,q=U}if(g){var W=u+z,oe=l+q;z=Number.isInteger(z)?Number(z):z.toFixed(2),q=Number.isInteger(q)?Number(q):q.toFixed(2),W=Number.isInteger(W)?Number(W):W.toFixed(2),oe=Number.isInteger(oe)?Number(oe):oe.toFixed(2),w+="M"+z+","+q+" V"+oe+" H"+W+" V"+q+" H"+z+" Z "}else m?p+=i+'<use x="'+z.toString()+'" y="'+q.toString()+'" href="#qrmodule" />'+s:p+=i+'<rect x="'+z.toString()+'" y="'+q.toString()+'" width="'+u+'" height="'+l+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}g&&(p=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+w+'" />');let ie="";if(this.options.image!==void 0&&this.options.image.svg){const J=o*this.options.image.width/100,H=a*this.options.image.height/100,se=o/2-J/2,de=a/2-H/2;ie+=`<svg x="${se}" y="${de}" width="${J}" height="${H}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ie+=this.options.image.svg+s,ie+="</svg>"}var K="";switch(t.container){case"svg":b&&(K+='<?xml version="1.0" standalone="yes"?>'+s),K+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,K+=A+R+p,K+=ie,K+="</svg>";break;case"svg-viewbox":b&&(K+='<?xml version="1.0" standalone="yes"?>'+s),K+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,K+=A+R+p,K+=ie,K+="</svg>";break;case"g":K+='<g width="'+o+'" height="'+a+'">'+s,K+=A+R+p,K+=ie,K+="</g>";break;default:K+=(A+R+p+ie).replace(/^\s+/,"");break}return K};var _m=nd,mm=ue&&ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(is,"__esModule",{value:!0});is.QRCode=void 0;const wm=He,cl=jn,Sm=mm(_m),Em=t=>{const[e,r]=(0,cl.useState)("");return(0,cl.useEffect)(()=>{var n,i;const s=new Sm.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,wm.h)("img",{src:e,alt:"QR Code"}):null};is.QRCode=Em;var ss={},vc={};Object.defineProperty(vc,"__esModule",{value:!0});vc.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var xm=ue&&ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ss,"__esModule",{value:!0});ss.Spinner=void 0;const Gn=He,Cm=xm(vc),km=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Gn.h)("div",{class:"-cbwsdk-spinner"},(0,Gn.h)("style",null,Cm.default),(0,Gn.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Gn.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};ss.Spinner=km;var _c={};Object.defineProperty(_c,"__esModule",{value:!0});_c.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var Gr=ue&&ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dt,"__esModule",{value:!0});dt.CoinbaseAppSteps=dt.CoinbaseWalletSteps=dt.ConnectItem=dt.ConnectContent=void 0;const Ze=Gr(Xi),Z=He,ul=jn,Am=G,Mm=es,Im=ts,Rm=Gr(pc),Tm=Gr(bc),id=rs,Om=Gr(yc),Nm=Gr(gc),Pm=ns,Lm=is,Dm=ss,jm=Gr(_c),ll={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:Tm.default,steps:od},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:Rm.default,steps:ad}},Bm=t=>{switch(t){case"coinbase-app":return Om.default;case"coinbase-wallet-app":default:return Nm.default}},Ta=t=>t==="light"?"#FFFFFF":"#0A0B0D";function Fm(t){const{theme:e}=t,[r,n]=(0,ul.useState)("coinbase-wallet-app"),i=(0,ul.useCallback)(u=>{n(u)},[]),s=(0,Am.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=ll[r];if(!r)return null;const a=o.steps,c=r==="coinbase-app";return(0,Z.h)("div",{"data-testid":"connect-content",class:(0,Ze.default)("-cbwsdk-connect-content",e)},(0,Z.h)("style",null,jm.default),(0,Z.h)("div",{class:"-cbwsdk-connect-content-header"},(0,Z.h)("h2",{class:(0,Ze.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,Z.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,Z.h)(Im.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Z.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,Z.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,Z.h)("div",null,Object.entries(ll).map(([u,l])=>(0,Z.h)(sd,{key:u,title:l.title,description:l.description,icon:l.icon,selected:r===u,onClick:()=>i(u),theme:e}))),c&&(0,Z.h)("div",{class:(0,Ze.default)("-cbwsdk-connect-content-update-app",e)},"Don\u2019t see a ",(0,Z.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,Z.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,Z.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,Z.h)(Lm.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:Bm(r),width:25,height:25}}),(0,Z.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:Mm.LIB_VERSION}),(0,Z.h)("input",{type:"hidden",value:s})),(0,Z.h)(a,{theme:e}),!t.isConnected&&(0,Z.h)("div",{"data-testid":"connecting-spinner",class:(0,Ze.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,Z.h)(Dm.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,Z.h)("p",null,"Connecting...")))))}dt.ConnectContent=Fm;function sd({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,Z.h)("div",{onClick:s,class:(0,Ze.default)("-cbwsdk-connect-item",i,{selected:n})},(0,Z.h)("div",null,(0,Z.h)("img",{src:r,alt:t})),(0,Z.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,Z.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,Z.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}dt.ConnectItem=sd;function od({theme:t}){return(0,Z.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,Z.h)("li",{class:(0,Ze.default)("-cbwsdk-wallet-steps-item",t)},(0,Z.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,Z.h)("li",{class:(0,Ze.default)("-cbwsdk-wallet-steps-item",t)},(0,Z.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,Z.h)("span",null,"Tap ",(0,Z.h)("strong",null,"Scan")," "),(0,Z.h)("span",{class:(0,Ze.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,Z.h)(id.QRCodeIcon,{fill:Ta(t)})))))}dt.CoinbaseWalletSteps=od;function ad({theme:t}){return(0,Z.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,Z.h)("li",{class:(0,Ze.default)("-cbwsdk-wallet-steps-item",t)},(0,Z.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,Z.h)("li",{class:(0,Ze.default)("-cbwsdk-wallet-steps-item",t)},(0,Z.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,Z.h)("span",null,"Tap ",(0,Z.h)("strong",null,"More")),(0,Z.h)("span",{class:(0,Ze.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,Z.h)(Pm.StatusDotIcon,{fill:Ta(t)})),(0,Z.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,Z.h)("strong",null,"Scan")),(0,Z.h)("span",{class:(0,Ze.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,Z.h)(id.QRCodeIcon,{fill:Ta(t)})))))}dt.CoinbaseAppSteps=ad;var os={},as={};Object.defineProperty(as,"__esModule",{value:!0});as.ArrowLeftIcon=void 0;const fl=He;function $m(t){return(0,fl.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,fl.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}as.ArrowLeftIcon=$m;var cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.LaptopIcon=void 0;const ta=He;function Wm(t){return(0,ta.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,ta.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,ta.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}cs.LaptopIcon=Wm;var us={};Object.defineProperty(us,"__esModule",{value:!0});us.SafeIcon=void 0;const hl=He;function Um(t){return(0,hl.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,hl.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}us.SafeIcon=Um;var mc={};Object.defineProperty(mc,"__esModule",{value:!0});mc.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var cd=ue&&ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(os,"__esModule",{value:!0});os.TryExtensionContent=void 0;const Vt=cd(Xi),Se=He,ra=jn,Hm=as,Vm=cs,zm=us,qm=cd(mc);function Gm({theme:t}){const[e,r]=(0,ra.useState)(!1),n=(0,ra.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,ra.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,Se.h)("div",{class:(0,Vt.default)("-cbwsdk-try-extension",t)},(0,Se.h)("style",null,qm.default),(0,Se.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Se.h)("h3",{class:(0,Vt.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,Se.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,Se.h)("button",{class:(0,Vt.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,Se.h)("div",null,!e&&(0,Se.h)(Hm.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,Se.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Se.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,Se.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Se.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Se.h)("span",{class:(0,Vt.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Se.h)(Vm.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Se.h)("div",{class:(0,Vt.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,Se.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Se.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Se.h)("span",{class:(0,Vt.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Se.h)(zm.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Se.h)("div",{class:(0,Vt.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}os.TryExtensionContent=Gm;var wc={};Object.defineProperty(wc,"__esModule",{value:!0});wc.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var ud=ue&&ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.ConnectDialog=void 0;const na=ud(Xi),zt=He,ia=jn,Qm=dt,Zm=os,Km=ud(wc),Ym=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,ia.useState)(!e),[s,o]=(0,ia.useState)(!e);(0,ia.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,zt.h)("div",{class:(0,na.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,zt.h)("style",null,Km.default),(0,zt.h)("div",{class:(0,na.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,zt.h)("div",{class:"-cbwsdk-connect-dialog"},(0,zt.h)("div",{class:(0,na.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,zt.h)(Qm.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,zt.h)(Zm.TryExtensionContent,{theme:a}))))};Ji.ConnectDialog=Ym;Object.defineProperty(Zi,"__esModule",{value:!0});Zi.LinkFlow=void 0;const sa=He,dl=Yi,Jm=Ji;class Xm{constructor(e){this.extensionUI$=new dl.BehaviorSubject({}),this.subscriptions=new dl.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;!this.root||(this.subscriptions.unsubscribe(),(0,sa.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{!this.root||(0,sa.render)((0,sa.h)(Jm.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Zi.LinkFlow=Xm;var ld={},Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});Sc.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=ue&&ue.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(Xi),n=He,i=jn,s=e(Sc),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(g){switch(g){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(f){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=f.darkMode}attach(f){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",f.appendChild(this.root),this.render()}presentItem(f){const b=this.nextItemKey++;return this.items.set(b,f),this.render(),()=>{this.items.delete(b),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([f,b])=>(0,n.h)(t.SnackbarInstance,Object.assign({},b,{key:f}))))),this.root)}}t.Snackbar=c;const u=g=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},g.children));t.SnackbarContainer=u;const l=({autoExpand:g,message:f,menuItems:b,appSrc:m})=>{const[A,R]=(0,i.useState)(!0),[p,w]=(0,i.useState)(g!=null?g:!1);(0,i.useEffect)(()=>{const T=[window.setTimeout(()=>{R(!1)},1),window.setTimeout(()=>{w(!0)},1e4)];return()=>{T.forEach(window.clearTimeout)}});const E=()=>{w(!p)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",A&&"-cbwsdk-snackbar-instance-hidden",p&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:E},(0,n.h)("img",{src:a(m),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},f),(0,n.h)("div",{class:"-gear-container"},!p&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),b&&b.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},b.map((T,B)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",T.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:T.onClick,key:B},(0,n.h)("svg",{width:T.svgWidth,height:T.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":T.defaultFillRule,"clip-rule":T.defaultClipRule,d:T.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",T.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},T.info)))))};t.SnackbarInstance=l})(ld);var ls={},Ec={};Object.defineProperty(Ec,"__esModule",{value:!0});Ec.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var ew=ue&&ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ls,"__esModule",{value:!0});ls.injectCssReset=void 0;const tw=ew(Ec);function rw(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(tw.default)),document.documentElement.appendChild(t)}ls.injectCssReset=rw;Object.defineProperty(Qi,"__esModule",{value:!0});Qi.WalletSDKUI=void 0;const nw=Zi,iw=ld,sw=ls;class ow{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new iw.Snackbar({darkMode:e.darkMode}),this.linkFlow=new nw.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,sw.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}Qi.WalletSDKUI=ow;var fs={},hs={};Object.defineProperty(hs,"__esModule",{value:!0});var _r;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(_r||(_r={}));function fd(t,e,r){if(!r||typeof r.value!==_r.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:_r.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:_r.boolTrue,writable:_r.boolTrue}),n}}}hs.bind=fd;hs.default=fd;function hd(t){return function(r){return r.lift(new aw(t))}}var aw=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new cw(e,this.durationSelector))},t}(),cw=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=we(n,new _e(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(me);function uw(t,e){return e===void 0&&(e=Fe),hd(function(){return qh(t,e)})}function lw(t){return function(r){return r.lift(new fw(t))}}var fw=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new hw(e,this.closingNotifier))},t}(),hw=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(we(n,new _e(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(me);function dw(t,e){return e===void 0&&(e=null),function(n){return n.lift(new pw(t,e))}}var pw=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=bw:this.subscriberClass=yw}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),bw=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(Q),yw=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var u=o[c];u.push(r),u.length===i&&(o.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(Q);function gw(t){var e=arguments.length,r=Fe;Ue(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new vw(t,n,i,r))}}var vw=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new mw(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),_w=function(){function t(){this.buffer=[]}return t}(),mw=function(t){D.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(pl,n,u))}else{var l={subscriber:a,context:c},g={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(dd,n,l)),a.add(o.schedule(ww,i,g))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(r),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(pl,i,s))}},e.prototype.openContext=function(){var r=new _w;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(Q);function pl(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function ww(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(dd,r,{subscriber:n,context:s})),o.schedule(t,e))}function dd(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function Sw(t,e){return function(n){return n.lift(new Ew(t,e))}}var Ew=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new xw(e,this.openings,this.closingSelector))},t}(),xw=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(Et(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new ve,o={buffer:i,subscription:s};n.push(o);var a=Et(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(or);function Cw(t){return function(e){return e.lift(new kw(t))}}var kw=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Aw(e,this.closingSelector))},t}(),Aw=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new ve,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(we(i,new _e(this))),this.subscribing=!1},e}(me);function Mw(t){return function(r){var n=new Iw(t),i=r.lift(n);return n.caught=i}}var Iw=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new Rw(e,this.selector,this.caught))},t}(),Rw=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new _e(this);this.add(i);var s=we(n,i);s!==i&&this.add(s)}},e}(me);function Tw(t){return function(e){return e.lift(new uc(t))}}function Ow(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Be(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(xt([n].concat(t)),new uc(r))}}function Nw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(bn.apply(void 0,[r].concat(t)))}}function pd(t,e){return rr(t,e,1)}function Pw(t,e){return pd(function(){return t},e)}function Lw(t){return function(e){return e.lift(new Dw(t,e))}}var Dw=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new jw(e,this.predicate,this.source))},t}(),jw=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(Q);function Bw(t){return function(e){return e.lift(new Fw(t))}}var Fw=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new $w(e,this.durationSelector))},t}(),$w=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=we(n,new _e(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(me);function Ww(t,e){return e===void 0&&(e=Fe),function(r){return r.lift(new Uw(t,e))}}var Uw=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Hw(e,this.dueTime,this.scheduler))},t}(),Hw=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Vw,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(Q);function Vw(t){t.debouncedNext()}function Bn(t){return t===void 0&&(t=null),function(e){return e.lift(new zw(t))}}var zw=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new qw(e,this.defaultValue))},t}(),qw=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(Q);function bd(t){return t instanceof Date&&!isNaN(+t)}function Gw(t,e){e===void 0&&(e=Fe);var r=bd(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new Qw(n,e))}}var Qw=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Zw(e,this.delay,this.scheduler))},t}(),Zw=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new Kw(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(wt.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(wt.createComplete()),this.unsubscribe()},e}(Q),Kw=function(){function t(e,r){this.time=e,this.notification=r}return t}();function Yw(t,e){return e?function(r){return new Xw(r,e).lift(new bl(t))}:function(r){return r.lift(new bl(t))}}var bl=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Jw(e,this.delayDurationSelector))},t}(),Jw=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=Et(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(or),Xw=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new e2(r,this.source))},e}(re),e2=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(Q);function t2(){return function(e){return e.lift(new r2)}}var r2=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new n2(e))},t}(),n2=function(t){D.exports.__extends(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(Q);function i2(t,e){return function(r){return r.lift(new s2(t,e))}}var s2=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new o2(e,this.keySelector,this.flushes))},t}(),o2=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(we(i,new _e(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(me);function yd(t,e){return function(r){return r.lift(new a2(t,e))}}var a2=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new c2(e,this.compare,this.keySelector))},t}(),c2=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(Q);function u2(t,e){return yd(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function ds(t){return t===void 0&&(t=h2),function(e){return e.lift(new l2(t))}}var l2=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new f2(e,this.errorFactory))},t}(),f2=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(Q);function h2(){return new Dn}function xc(t){return function(e){return t===0?zr():e.lift(new d2(t))}}var d2=function(){function t(e){if(this.total=e,this.total<0)throw new Nr}return t.prototype.call=function(e,r){return r.subscribe(new p2(e,this.total))},t}(),p2=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(Q);function b2(t,e){if(t<0)throw new Nr;var r=arguments.length>=2;return function(n){return n.pipe($t(function(i,s){return s===t}),xc(1),r?Bn(e):ds(function(){return new Nr}))}}function y2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return bn(r,Ki.apply(void 0,t))}}function g2(t,e){return function(r){return r.lift(new v2(t,e,r))}}var v2=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new _2(e,this.predicate,this.thisArg,this.source))},t}(),_2=function(t){D.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Q);function m2(){return function(t){return t.lift(new w2)}}var w2=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new S2(e))},t}(),S2=function(t){D.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(we(r,new _e(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(me);function gd(t,e){return e?function(r){return r.pipe(gd(function(n,i){return xt(t(n,i)).pipe(Xe(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new E2(t))}}var E2=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new x2(e,this.project))},t}(),x2=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new _e(this),i=this.destination;i.add(n);var s=we(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(me);function C2(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new k2(t,e,r))}}var k2=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new A2(e,this.project,this.concurrent,this.scheduler))},t}(),A2=function(t){D.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){n.error(u)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(we(r,new _e(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(me);function M2(t){return function(e){return e.lift(new I2(t))}}var I2=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new R2(e,this.callback))},t}(),R2=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new ve(n)),i}return e}(Q);function T2(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new vd(t,r,!1,e))}}var vd=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new O2(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),O2=function(t){D.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(Q);function N2(t,e){return function(r){return r.lift(new vd(t,r,!0,e))}}function P2(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?$t(function(i,s){return t(i,s,n)}):Bt,xc(1),r?Bn(e):ds(function(){return new Dn}))}}function L2(){return function(e){return e.lift(new D2)}}var D2=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new j2(e))},t}(),j2=function(t){D.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(Q);function B2(){return function(t){return t.lift(new F2)}}var F2=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new $2(e))},t}(),$2=function(t){D.exports.__extends(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Q);function vi(t){return function(r){return t===0?zr():r.lift(new W2(t))}}var W2=function(){function t(e){if(this.total=e,this.total<0)throw new Nr}return t.prototype.call=function(e,r){return r.subscribe(new U2(e,this.total))},t}(),U2=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(Q);function H2(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?$t(function(i,s){return t(i,s,n)}):Bt,vi(1),r?Bn(e):ds(function(){return new Dn}))}}function V2(t){return function(e){return e.lift(new z2(t))}}var z2=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new q2(e,this.value))},t}(),q2=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(Q);function G2(){return function(e){return e.lift(new Q2)}}var Q2=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Z2(e))},t}(),Z2=function(t){D.exports.__extends(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(wt.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(wt.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(wt.createComplete()),r.complete()},e}(Q);function _i(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new K2(t,e,r))}}var K2=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new Y2(e,this.accumulator,this.seed,this.hasSeed))},t}(),Y2=function(t){D.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(Q);function ps(t,e){return arguments.length>=2?function(n){return xa(_i(t,e),vi(1),Bn(e))(n)}:function(n){return xa(_i(function(i,s,o){return t(i,s,o+1)}),vi(1))(n)}}function J2(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return ps(e)}function X2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Uh.apply(void 0,[r].concat(t)))}}function eS(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?rr(function(){return t},e,r):(typeof e=="number"&&(r=e),rr(function(){return t},r))}function tS(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new rS(t,e,r))}}var rS=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new nS(e,this.accumulator,this.seed,this.concurrent))},t}(),nS=function(t){D.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new _e(this),i=this.destination;i.add(n);var s=we(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(me);function iS(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return ps(e)}function nr(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new sS(i,e));var s=Object.create(n,D1);return s.source=n,s.subjectFactory=i,s}}var sS=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function oS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&Be(t[0])&&(t=t[0]),function(r){return r.lift(new aS(t))}}var aS=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new cS(e,this.nextSources))},t}(),cS=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new _e(this),i=this.destination;i.add(n);var s=we(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(me);function uS(){return function(t){return t.lift(new lS)}}var lS=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new fS(e))},t}(),fS=function(t){D.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(Q);function hS(t,e){return function(r){return[$t(t,e)(r),$t(Vh(t,e))(r)]}}function dS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return Xe(pS(t,r))(n)}}function pS(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function bS(t){return t?nr(function(){return new Me},t):nr(new Me)}function yS(t){return function(e){return nr(new Eh(t))(e)}}function gS(){return function(t){return nr(new qr)(t)}}function vS(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new cc(t,e,n);return function(o){return nr(function(){return s},i)(o)}}function _S(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&Be(t[0])&&(t=t[0]),n.lift.call(zh.apply(void 0,[n].concat(t)))}}function mS(t){return t===void 0&&(t=-1),function(e){return t===0?zr():t<0?e.lift(new yl(-1,e)):e.lift(new yl(t-1,e))}}var yl=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new wS(e,this.count,this.source))},t}(),wS=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(Q);function SS(t){return function(e){return e.lift(new ES(t))}}var ES=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new xS(e,this.notifier,r))},t}(),xS=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new Me;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=we(r,new _e(this))},e}(me);function CS(t){return t===void 0&&(t=-1),function(e){return e.lift(new kS(t,e))}}var kS=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new AS(e,this.count,this.source))},t}(),AS=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(Q);function MS(t){return function(e){return e.lift(new IS(t,e))}}var IS=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new RS(e,this.notifier,this.source))},t}(),RS=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new Me;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=we(i,new _e(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(me);function TS(t){return function(e){return e.lift(new OS(t))}}var OS=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new NS(e),i=r.subscribe(n);return i.add(we(this.notifier,new _e(n))),i},t}(),NS=function(t){D.exports.__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(me);function PS(t,e){return e===void 0&&(e=Fe),function(r){return r.lift(new LS(t,e))}}var LS=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new DS(e,this.period,this.scheduler))},t}(),DS=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(jS,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(Q);function jS(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function BS(t,e){return function(r){return r.lift(new FS(t,e))}}var FS=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new $S(e,this.compareTo,this.comparator))},t}(),$S=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new WS(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(Q),WS=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(Q);function US(){return new Me}function HS(){return function(t){return sc()(nr(US)(t))}}function VS(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(zS(n))}}function zS(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,c=0,u,l=!1,g=!1;return function(b){c++;var m;!a||l?(l=!1,a=new cc(r,i,o),m=a.subscribe(this),u=b.subscribe({next:function(A){a.next(A)},error:function(A){l=!0,a.error(A)},complete:function(){g=!0,u=void 0,a.complete()}}),g&&(u=void 0)):m=a.subscribe(this),this.add(function(){c--,m.unsubscribe(),m=void 0,u&&!g&&s&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}function qS(t){return function(e){return e.lift(new GS(t,e))}}var GS=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new QS(e,this.predicate,this.source))},t}(),QS=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new Dn)},e}(Q);function ZS(t){return function(e){return e.lift(new KS(t))}}var KS=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new YS(e,this.total))},t}(),YS=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(Q);function JS(t){return function(e){return e.lift(new XS(t))}}var XS=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new Nr}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new Q(e)):r.subscribe(new eE(e,this._skipCount))},t}(),eE=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(Q);function tE(t){return function(e){return e.lift(new rE(t))}}var rE=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new nE(e,this.notifier))},t}(),nE=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new _e(i);i.add(s),i.innerSubscription=s;var o=we(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(me);function iE(t){return function(e){return e.lift(new sE(t))}}var sE=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new oE(e,this.predicate))},t}(),oE=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(Q);function aE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Ue(r)?(t.pop(),function(n){return bn(t,n,r)}):function(n){return bn(t,n)}}var cE=function(t){D.exports.__extends(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=ri);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!Pr(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=ri),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=ri),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(re);function uE(t,e){return e===void 0&&(e=0),function(n){return n.lift(new lE(t,e))}}var lE=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new cE(r,this.delay,this.scheduler).subscribe(e)},t}();function yn(t,e){return typeof e=="function"?function(r){return r.pipe(yn(function(n,i){return xt(t(n,i)).pipe(Xe(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new fE(t))}}var fE=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new hE(e,this.project))},t}(),hE=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new _e(this),s=this.destination;s.add(i),this.innerSubscription=we(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(me);function dE(){return yn(Bt)}function pE(t,e){return e?yn(function(){return t},e):yn(function(){return t})}function bE(t){return function(e){return e.lift(new yE(t))}}var yE=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new gE(e),i=we(this.notifier,new _e(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),gE=function(t){D.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(me);function vE(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new _E(t,e))}}var _E=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new mE(e,this.predicate,this.inclusive))},t}(),mE=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(Q);function wE(t,e,r){return function(i){return i.lift(new SE(t,e,r))}}var SE=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new EE(e,this.nextOrObserver,this.error,this.complete))},t}(),EE=function(t){D.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=ut,o._tapError=ut,o._tapComplete=ut,o._tapError=i||ut,o._tapComplete=s||ut,Tr(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||ut,o._tapError=n.error||ut,o._tapComplete=n.complete||ut),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(Q),_d={leading:!0,trailing:!1};function xE(t,e){return e===void 0&&(e=_d),function(r){return r.lift(new CE(t,!!e.leading,!!e.trailing))}}var CE=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new kE(e,this.durationSelector,this.leading,this.trailing))},t}(),kE=function(t){D.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=we(n,new _e(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(me);function AE(t,e,r){return e===void 0&&(e=Fe),r===void 0&&(r=_d),function(n){return n.lift(new ME(t,e,r.leading,r.trailing))}}var ME=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new IE(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),IE=function(t){D.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(RE,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(Q);function RE(t){var e=t.subscriber;e.clearThrottle()}function TE(t){return t===void 0&&(t=Fe),function(e){return fc(function(){return e.pipe(_i(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Xe(function(r){var n=r.current,i=r.last,s=r.value;return new OE(s,n-i)}))})}}var OE=function(){function t(e,r){this.value=e,this.interval=r}return t}();function md(t,e,r){return r===void 0&&(r=Fe),function(n){var i=bd(t),s=i?+t-r.now():Math.abs(t);return n.lift(new NE(s,i,e,r))}}var NE=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new PE(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),PE=function(t){D.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(we(n,new _e(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(me);function LE(t,e){return e===void 0&&(e=Fe),md(t,ac(new Oh),e)}function DE(t){return t===void 0&&(t=Fe),Xe(function(e){return new jE(e,t.now())})}var jE=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function BE(t,e,r){return r===0?[e]:(t.push(e),t)}function FE(){return ps(BE,[])}function $E(t){return function(r){return r.lift(new WE(t))}}var WE=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new UE(e),i=r.subscribe(n);return i.closed||n.add(we(this.windowBoundaries,new _e(n))),i},t}(),UE=function(t){D.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new Me,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new Me;n.next(i)},e}(me);function HE(t,e){return e===void 0&&(e=0),function(n){return n.lift(new VE(t,e))}}var VE=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new zE(e,this.windowSize,this.startWindowEvery))},t}(),zE=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new Me],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(r);var u=this.count-s+1;if(u>=0&&u%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var l=new Me;o.push(l),i.next(l)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(Q);function qE(t){var e=Fe,r=null,n=Number.POSITIVE_INFINITY;return Ue(arguments[3])&&(e=arguments[3]),Ue(arguments[2])?e=arguments[2]:Pr(arguments[2])&&(n=Number(arguments[2])),Ue(arguments[1])?e=arguments[1]:Pr(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new GE(t,r,n,e))}}var GE=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new ZE(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),QE=function(t){D.exports.__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Me),ZE=function(t){D.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(wd,n,u)),a.add(o.schedule(YE,i,l))}else{var g={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule(KE,n,g))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new QE;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(Q);function KE(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function YE(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:r,window:s,context:a};a.subscription=n.schedule(wd,e,c),o.add(a.subscription),o.schedule(t,i)}function wd(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function JE(t,e){return function(r){return r.lift(new XE(t,e))}}var XE=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new e4(e,this.openings,this.closingSelector))},t}(),e4=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=Et(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(b){return this.error(b)}var u=new Me,l=new ve,g={window:u,subscription:l};this.contexts.push(g);var f=Et(this,a,g);f.closed?this.closeWindow(this.contexts.length-1):(f.context=g,l.add(f)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(or);function t4(t){return function(r){return r.lift(new r4(t))}}var r4=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new n4(e,this.closingSelector))},t}(),n4=function(t){D.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new Me;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=Et(this,s))},e}(or);function i4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new s4(i,n))}}var s4=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new o4(e,this.observables,this.project))},t}(),o4=function(t){D.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(Et(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(or);function a4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(Gh.apply(void 0,[n].concat(t)))}}function c4(t){return function(e){return e.lift(new Qh(t))}}const u4=Object.freeze(Object.defineProperty({__proto__:null,audit:hd,auditTime:uw,buffer:lw,bufferCount:dw,bufferTime:gw,bufferToggle:Sw,bufferWhen:Cw,catchError:Mw,combineAll:Tw,combineLatest:Ow,concat:Nw,concatAll:Bh,concatMap:pd,concatMapTo:Pw,count:Lw,debounce:Bw,debounceTime:Ww,defaultIfEmpty:Bn,delay:Gw,delayWhen:Yw,dematerialize:t2,distinct:i2,distinctUntilChanged:yd,distinctUntilKeyChanged:u2,elementAt:b2,endWith:y2,every:g2,exhaust:m2,exhaustMap:gd,expand:C2,filter:$t,finalize:M2,find:T2,findIndex:N2,first:P2,groupBy:B1,ignoreElements:L2,isEmpty:B2,last:H2,map:Xe,mapTo:V2,materialize:G2,max:J2,merge:X2,mergeAll:lc,mergeMap:rr,flatMap:R_,mergeMapTo:eS,mergeScan:tS,min:iS,multicast:nr,observeOn:Q1,onErrorResumeNext:oS,pairwise:uS,partition:hS,pluck:dS,publish:bS,publishBehavior:yS,publishLast:gS,publishReplay:vS,race:_S,reduce:ps,repeat:mS,repeatWhen:SS,retry:CS,retryWhen:MS,refCount:sc,sample:TS,sampleTime:PS,scan:_i,sequenceEqual:BS,share:HS,shareReplay:VS,single:qS,skip:ZS,skipLast:JS,skipUntil:tE,skipWhile:iE,startWith:aE,subscribeOn:uE,switchAll:dE,switchMap:yn,switchMapTo:pE,take:xc,takeLast:vi,takeUntil:bE,takeWhile:vE,tap:wE,throttle:xE,throttleTime:AE,throwIfEmpty:ds,timeInterval:TE,timeout:LE,timeoutWith:md,timestamp:DE,toArray:FE,window:$E,windowCount:HE,windowTime:qE,windowToggle:JE,windowWhen:t4,withLatestFrom:i4,zip:a4,zipAll:c4},Symbol.toStringTag,{value:"Module"})),Cc=vn(u4);var bs={},Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.ClientMessagePublishEvent=Qe.ClientMessageSetSessionConfig=Qe.ClientMessageGetSessionConfig=Qe.ClientMessageIsLinked=Qe.ClientMessageHostSession=void 0;function l4(t){return Object.assign({type:"HostSession"},t)}Qe.ClientMessageHostSession=l4;function f4(t){return Object.assign({type:"IsLinked"},t)}Qe.ClientMessageIsLinked=f4;function h4(t){return Object.assign({type:"GetSessionConfig"},t)}Qe.ClientMessageGetSessionConfig=h4;function d4(t){return Object.assign({type:"SetSessionConfig"},t)}Qe.ClientMessageSetSessionConfig=d4;function p4(t){return Object.assign({type:"PublishEvent"},t)}Qe.ClientMessagePublishEvent=p4;var Sd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Yi,r=Cc;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(!!o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;!o||(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(Sd);var ys={};Object.defineProperty(ys,"__esModule",{value:!0});ys.isServerMessageFail=void 0;function b4(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}ys.isServerMessageFail=b4;Object.defineProperty(bs,"__esModule",{value:!0});bs.WalletSDKConnection=void 0;const tt=Yi,ce=Cc,Xr=$r,dr=xn,en=Qe,tn=Fr,Qn=Sd,oa=ys,gl=1e4,y4=6e4;class g4{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new tt.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,dr.IntNumber)(1),this.connectedSubject=new tt.BehaviorSubject(!1),this.linkedSubject=new tt.BehaviorSubject(!1),this.sessionConfigSubject=new tt.ReplaySubject(1);const o=new Qn.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,ce.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(tn.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Xr.Session.hash(e)})}),(0,ce.skip)(1),(0,ce.filter)(a=>a===Qn.ConnectionState.DISCONNECTED&&!this.destroyed),(0,ce.delay)(5e3),(0,ce.filter)(a=>!this.destroyed),(0,ce.flatMap)(a=>o.connect()),(0,ce.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,ce.skip)(2),(0,ce.switchMap)(a=>(0,tt.iif)(()=>a===Qn.ConnectionState.CONNECTED,this.authenticate().pipe((0,ce.tap)(c=>this.sendIsLinked()),(0,ce.tap)(c=>this.sendGetSessionConfig()),(0,ce.map)(c=>!0)),(0,tt.of)(!1))),(0,ce.distinctUntilChanged)(),(0,ce.catchError)(a=>(0,tt.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,ce.skip)(1),(0,ce.switchMap)(a=>(0,tt.iif)(()=>a===Qn.ConnectionState.CONNECTED,(0,tt.timer)(0,gl)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,ce.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,ce.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(tn.EVENTS.LINKED,{sessionIdHash:Xr.Session.hash(e),linked:u.linked,type:a.type,onlineGuests:u.onlineGuests}),this.linkedSubject.next(u.linked||u.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,ce.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(tn.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Xr.Session.hash(e),metadata_keys:u&&u.metadata?Object.keys(u.metadata):void 0}),this.sessionConfigSubject.next({webhookId:u.webhookId,webhookUrl:u.webhookUrl,metadata:u.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(tn.EVENTS.STARTED_CONNECTING,{sessionIdHash:Xr.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(tn.EVENTS.DISCONNECTED,{sessionIdHash:Xr.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,ce.filter)(e=>e),(0,ce.take)(1),(0,ce.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,ce.filter)(e=>e),(0,ce.take)(1),(0,ce.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,ce.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,ce.map)(e=>e))}setSessionMetadata(e,r){const n=(0,en.ClientMessageSetSessionConfig)({id:(0,dr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,ce.flatMap)(i=>this.makeRequest(n)),(0,ce.map)(i=>{if((0,oa.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,en.ClientMessagePublishEvent)({id:(0,dr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,ce.flatMap)(s=>this.makeRequest(i)),(0,ce.map)(s=>{if((0,oa.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>gl*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=y4){const n=e.id;try{this.sendData(e)}catch(i){return(0,tt.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,ce.timeoutWith)(r,(0,tt.throwError)(new Error(`request ${n} timed out`))),(0,ce.filter)(i=>i.id===n),(0,ce.take)(1))}authenticate(){const e=(0,en.ClientMessageHostSession)({id:(0,dr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,ce.map)(r=>{if((0,oa.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,en.ClientMessageIsLinked)({id:(0,dr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,en.ClientMessageGetSessionConfig)({id:(0,dr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}bs.WalletSDKConnection=g4;var gs={};Object.defineProperty(gs,"__esModule",{value:!0});gs.WalletUIError=void 0;class gn extends Error{constructor(e,r){super(e),this.message=e,this.errorCode=r}}gs.WalletUIError=gn;gn.UserRejectedRequest=new gn("User rejected request");gn.SwitchEthereumChainUnsupportedChainId=new gn("Unsupported chainId",4902);var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.decrypt=Dr.encrypt=void 0;const mi=G;async function v4(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,mi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),u=new Uint8Array(a),l=new Uint8Array(c),g=new Uint8Array([...r,...u,...l]);return(0,mi.uint8ArrayToHex)(g)}Dr.encrypt=v4;function _4(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,mi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,mi.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),u=new Uint8Array([...c,...a]),l={name:"AES-GCM",iv:new Uint8Array(o)};try{const g=await window.crypto.subtle.decrypt(l,i,u),f=new TextDecoder;r(f.decode(g))}catch(g){n(g)}})()})}Dr.decrypt=_4;var kc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(kc);var vs={},_s={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(_s);Object.defineProperty(vs,"__esModule",{value:!0});vs.Web3RequestCanceledMessage=void 0;const m4=_s;function w4(t){return{type:m4.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}vs.Web3RequestCanceledMessage=w4;var ms={};Object.defineProperty(ms,"__esModule",{value:!0});ms.Web3RequestMessage=void 0;const S4=_s;function E4(t){return Object.assign({type:S4.RelayMessageType.WEB3_REQUEST},t)}ms.Web3RequestMessage=E4;var ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.EthereumAddressFromSignedMessageResponse=ye.SubmitEthereumTransactionResponse=ye.SignEthereumTransactionResponse=ye.SignEthereumMessageResponse=ye.isRequestEthereumAccountsResponse=ye.SelectProviderResponse=ye.WatchAssetReponse=ye.RequestEthereumAccountsResponse=ye.SwitchEthereumChainResponse=ye.AddEthereumChainResponse=ye.ErrorResponse=void 0;const yt=kc;function x4(t,e,r){return{method:t,errorMessage:e,errorCode:r}}ye.ErrorResponse=x4;function C4(t){return{method:yt.Web3Method.addEthereumChain,result:t}}ye.AddEthereumChainResponse=C4;function k4(t){return{method:yt.Web3Method.switchEthereumChain,result:t}}ye.SwitchEthereumChainResponse=k4;function A4(t){return{method:yt.Web3Method.requestEthereumAccounts,result:t}}ye.RequestEthereumAccountsResponse=A4;function M4(t){return{method:yt.Web3Method.watchAsset,result:t}}ye.WatchAssetReponse=M4;function I4(t){return{method:yt.Web3Method.selectProvider,result:t}}ye.SelectProviderResponse=I4;function R4(t){return t&&t.method===yt.Web3Method.requestEthereumAccounts}ye.isRequestEthereumAccountsResponse=R4;function T4(t){return{method:yt.Web3Method.signEthereumMessage,result:t}}ye.SignEthereumMessageResponse=T4;function O4(t){return{method:yt.Web3Method.signEthereumTransaction,result:t}}ye.SignEthereumTransactionResponse=O4;function N4(t){return{method:yt.Web3Method.submitEthereumTransaction,result:t}}ye.SubmitEthereumTransactionResponse=N4;function P4(t){return{method:yt.Web3Method.ethereumAddressFromSignedMessage,result:t}}ye.EthereumAddressFromSignedMessageResponse=P4;var jr={};Object.defineProperty(jr,"__esModule",{value:!0});jr.isWeb3ResponseMessage=jr.Web3ResponseMessage=void 0;const Ed=_s;function L4(t){return Object.assign({type:Ed.RelayMessageType.WEB3_RESPONSE},t)}jr.Web3ResponseMessage=L4;function D4(t){return t&&t.type===Ed.RelayMessageType.WEB3_RESPONSE}jr.isWeb3ResponseMessage=D4;var j4=ue&&ue.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),B4=ue&&ue.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xd=ue&&ue.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},F4=ue&&ue.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&j4(e,t,r);return B4(e,t),e},$4=ue&&ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fs,"__esModule",{value:!0});fs.WalletSDKRelay=void 0;const Cd=$4(hs),vl=ki,pr=Yi,Ee=Cc,Pe=Fr,W4=bs,aa=gs,U4=xn,be=G,At=F4(Dr),Mt=$r,Zn=it,Ce=kc,H4=vs,V4=ms,$e=ye,De=jr;class nt extends Zn.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new pr.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new pr.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Mt.Session.load(this.storage)||new Mt.Session(this.storage).save(),r=new W4.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,Ee.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,Ee.skip)(1),(0,Ee.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(Zn.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const u=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(Pe.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:u})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,Ee.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ee.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,Ee.mergeMap)(i=>At.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Zn.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ee.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,Ee.mergeMap)(i=>At.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Zn.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ee.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,Ee.mergeMap)(i=>(0,pr.zip)(At.decrypt(i.metadata.ChainId,e.secret),At.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,Ee.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ee.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,Ee.mergeMap)(i=>At.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),nt.accountRequestCallbackIds.size>0&&(Array.from(nt.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,De.Web3ResponseMessage)({id:s,response:(0,$e.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),nt.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ee.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,Ee.mergeMap)(i=>At.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,Ee.timeout)(1e3),(0,Ee.catchError)(e=>(0,pr.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(Pe.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(Pe.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Mt.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Mt.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:a,ui:c,connection:u}=this.subscribe();this._session=a,this.connection=u,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Pe.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:Ce.Web3Method.signEthereumMessage,params:{message:(0,be.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:Ce.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,be.hexStringFromBuffer)(e,!0),signature:(0,be.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:Ce.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,be.bigIntStringFromBN)(e.weiValue),data:(0,be.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,be.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,be.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,be.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,be.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:Ce.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,be.bigIntStringFromBN)(e.weiValue),data:(0,be.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,be.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,be.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,be.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,be.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:Ce.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,be.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:Ce.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,be.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:Ce.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,be.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r==null||r(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,V4.Web3RequestMessage)({id:e,request:r}),s=Mt.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(Pe.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Mt.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Pe.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Mt.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,H4.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new pr.Observable(s=>{At.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,Ee.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,pr.from)(At.decrypt(e.data,this.session.secret)).pipe((0,Ee.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,De.isWeb3ResponseMessage)(r)?r:null;!n||this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Pe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(Pe.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,$e.isRequestEthereumAccountsResponse)(n)){nt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),nt.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:e,response:(0,$e.ErrorResponse)(r,(n!=null?n:aa.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:Ce.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,be.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,u=>{if(this.ui.hideRequestEthereumAccounts(),u.errorMessage)return o(new Error(u.errorMessage));s(u)});const c=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let u;try{(0,be.isInIFrame)()&&window.top?u=window.top.location:u=window.location}catch{u=window.location}u.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(u.href)}`;return}if(this.ui.inlineAccountsResponse()){const u=l=>{this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:r,response:(0,$e.RequestEthereumAccountsResponse)(l)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:u})}else{const u=vl.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(u)})}nt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:Ce.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,be.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,l=>{if(l.errorMessage)return a(new Error(l.errorMessage));o(l)});const c=l=>{this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:n,response:(0,$e.SelectProviderResponse)(U4.ProviderType.Unselected)}))},u=l=>{this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:n,response:(0,$e.SelectProviderResponse)(l)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:u,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:Ce.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const u=(0,be.randomBytesHex)(8),l=f=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,f),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));const g=new Promise((f,b)=>{this.relayEventManager.callbacks.set(u,R=>{if(c==null||c(),R.errorMessage)return b(new Error(R.errorMessage));f(R)});const m=R=>{this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:u,response:(0,$e.WatchAssetReponse)(!1)}))},A=()=>{this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:u,response:(0,$e.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:A,onCancel:m,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)});return{cancel:l,promise:g}}addEthereumChain(e,r,n,i,s,o){const a={method:Ce.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const u=(0,be.randomBytesHex)(8),l=f=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,f),c==null||c()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload})),{promise:new Promise((f,b)=>{this.relayEventManager.callbacks.set(u,R=>{if(c==null||c(),R.errorMessage)return b(new Error(R.errorMessage));f(R)});const m=R=>{this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:u,response:(0,$e.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},A=R=>{this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:u,response:(0,$e.AddEthereumChainResponse)({isApproved:!0,rpcUrl:R})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:m,onApprove:A,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)}),cancel:l}}switchEthereumChain(e,r){const n={method:Ce.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,be.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,g=>{if(g.errorMessage&&g.errorCode)return c(vl.ethErrors.provider.custom({code:g.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(g.errorMessage)return c(new Error(g.errorMessage));a(g)});const u=g=>{if(typeof g=="number"){const f=g;this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:i,response:(0,$e.ErrorResponse)(Ce.Web3Method.switchEthereumChain,aa.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,f)}))}else g instanceof aa.WalletUIError?this.handleErrorResponse(i,Ce.Web3Method.switchEthereumChain,g,g.errorCode):this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:i,response:(0,$e.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},l=g=>{this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:i,response:(0,$e.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:g})}))};this.ui.switchEthereumChain({onCancel:u,onApprove:l,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Mt.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case Ce.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case Ce.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Ce.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Ce.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}nt.accountRequestCallbackIds=new Set;xd([Cd.default],nt.prototype,"resetAndReload",null);xd([Cd.default],nt.prototype,"handleIncomingEvent",null);fs.WalletSDKRelay=nt;var ws={};Object.defineProperty(ws,"__esModule",{value:!0});ws.WalletSDKRelayEventManager=void 0;const z4=G;class q4{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,z4.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}ws.WalletSDKRelayEventManager=q4;const G4="@coinbase/wallet-sdk",Q4="3.6.4",Z4="Coinbase Wallet JavaScript SDK",K4=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],Y4="dist/index.js",J4="dist/index.d.ts",X4="https://github.com/coinbase/coinbase-wallet-sdk.git",e3="Coinbase, Inc.",t3="Apache-2.0",r3={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},n3={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"^1.70.1","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"5.1.0","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},i3={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.4.0","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.72.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},s3={node:">= 10.0.0"},o3={name:G4,version:Q4,description:Z4,keywords:K4,main:Y4,types:J4,repository:X4,author:e3,license:t3,scripts:r3,dependencies:n3,devDependencies:i3,engines:s3};Object.defineProperty(ln,"__esModule",{value:!0});ln.CoinbaseWalletSDK=void 0;const a3=xi,c3=Ci,u3=xr,l3=Qi,f3=fs,h3=ws,d3=G,p3={}.LINK_API_URL||"https://www.walletlink.org",kd={}.SDK_VERSION||o3.version||"unknown";class Ss{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||p3;let o;if(e.uiConstructor?o=e.uiConstructor:o=u=>new l3.WalletSDKUI(u),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new c3.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",Ss.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new h3.WalletSDKRelayEventManager,this._relay=new f3.WalletSDKRelay({linkAPIUrl:s,version:kd,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new u3.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,d3.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,a3.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}ln.CoinbaseWalletSDK=Ss;Ss.VERSION=kd;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=ln,r=xr;var n=ln;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=xr;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(Na);const b3=Ad(Na),_3=Md({__proto__:null,default:b3},[Na]);export{_3 as i};
